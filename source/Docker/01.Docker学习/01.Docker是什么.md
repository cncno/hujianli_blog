# Docker是什么？
Docker是一个开源的应用容器引擎，使用GO语言开发
容器可以对宿主机器的进程进行隔离，Docker早期版本实现是基于LXC，并进一步
对其封装，包括文件系统、网络互连、镜像管理等方面，极大简化了容器管理
Docker理论是将应用及依赖包打包到一个可移植的容器中，可发布到任意的linux发行版Docker引擎上
使用沙县机制运行程序，程序之间相互隔离。

Docker体系结构
Containerd：是一个简单的守护进程，使用runC管理容器，想DOcker Engine提供接口
Shim:只负责管理一个容器
runC：是一个轻量级的工具，只用来运行容器


Docker的内部组件
Namespaces
命名空间,linx内核提供的一种对进程隔离的机制，例如：进程、网络、挂载点等资源
CGroups  #ls -l /sys/fs/cgroup 查看cgroups
控制组，Linux内核提供的一种限制进程资源的机制；例如：CPU、内存等资源
UnionFS
联合文件系统，支持将不同位置的目录挂载到通过虚拟文件系统，形成一种分成的模型



虚拟机与Docker的区别
以KVM举例，与Docker对比
1.启动时间
Docker秒级启动，KVM分钟级启动

2.轻量级
容器镜像大小通常以M为单位，虚拟机以G为单位
容器资源占用小，要比虚拟机部署更快速

3.性能
容器共享宿主机内核，系统级别的虚拟化，占用资源少。没有Hypervisor层开销，容器性能基本接近物理机
虚拟机需要Hypervisor层支持。虚拟化一些设备，具有完整的GuestOS，
虚拟化开销大，因而降低性能，没有容器性能好

4.安全性
由于共享宿主机内核，只是进程级隔离，因此隔离性和稳定性不如虚拟机
容器具有一定权限访问宿主机内核，存在一定安全隐患

5.使用要求
KVM基于硬件的完全虚拟化，需要硬件CPU虚拟化技术支持
容器共享宿主机内核，可运行在主流的Linux发现版，不用考虑CPU是否支持虚拟化技术

### docker的应用场景
场景一：节省项目环境部署时间

	1.单项目打包
	#将环境打包部署，可在任意DockerEngine运行，push到镜像仓库，移植到其他Docker中，
	#一次构建，多次部署，一劳永逸

	2.整套项目打包

	3.新开源技术试用
	#可以直接从公共镜像仓库pull项目官方做好镜像启动容器即可

场景二：环境一致性

场景三：持续集成

场景四：微服务

场景五：弹性伸缩

