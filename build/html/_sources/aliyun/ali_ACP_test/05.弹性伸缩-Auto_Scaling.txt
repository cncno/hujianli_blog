# 弹性伸缩-Auto_Scaling

### 考点整理

1.弹性伸缩支持添加已有ECS实例，必须的条件有：

	1.加入的ECS实例必须与伸缩组在同一个region；
	2.加入的ECS实例规格必须与生效伸缩配置的实例规格一致；
	3.加入的ECS实例的状态必须是“运行中”状态加入的ECS实例不能已加入到其它伸缩组中加入的ECS实例不可以是VPC类型；

2.弹性伸缩 + SLB高可用架构 可以实现自动增长ECS和自动减少ECS实例，并实现负载均衡

3.阿里云的弹性伸缩

	1.支持SLB负载均衡配置：在增加或减少ECS实例时，自动向SLB实例中添加或移除相应的ECS实例；
	2.支持RDS访问白名单：在增加或减少ECS实例时，自动向RDS访问白名单中添加或移出该ECS实例的IP；
	3.多模式兼容，可同时配置定时、动态、自定义、固定、健康模式，可通过API方便对接外在监控系统。
	4.每个用户所能创建的伸缩组、伸缩配置、伸缩规则、伸缩ECS实例、定时任务的数量都有一定的限制。

4.阿里云弹性伸缩可以配合多个云产品使用：

	弹性伸缩可以单独扩展和收缩ECS实例；
	通过弹性伸缩自动创建的ECS实例，需要按照ECS按量付费类型的实例标准进行付费；
	既可以搭配SLB，RDS一起部署，也可以不搭配SLB，RDS一起部署；
	弹性伸缩支持通过云监控触发任务扩展和收缩ECS实例，也可以通过弹性伸缩的Open API

5.同一伸缩组内、同一时刻只能有一个伸缩活动在执行。

6.镜像复制只支持您自己的自定义镜像。不支持公共镜像，镜像市场镜像和别人共享给您的镜像。

7.阿里云弹性伸缩产品可以帮助用户在系统访问量有明显波峰时，实现在业务增长时自动增加 ECS 实例，并在业务下降时自动减少 ECS 实例，解决了可伸缩的架构，
SLB + 弹性伸缩 实现高可用架构

8.弹性伸缩可以单独扩展和收缩ECS实例；
既可以搭配SLB，RDS一起部署，也可以不搭配SLB，RDS一起部署；
弹性伸缩支持通过云监控触发任务扩展和收缩ECS实例，也可以通过弹性伸缩的Open API对接客户自己的监控系统，客户可以通过自己的监控系统，触发弹性伸缩的伸缩活动；

9.通过“最小实例数”（MinSize）属性，可以让您始终保持健康运行的ECS实例数量，以保证日常场景实时可用,这种伸缩模式是指：固定数量模式

10.数据盘可以实现自动弹性收缩。

11.通过ECS实例为非“运行中（Running）”状态来判断该实例不健康，弹性伸缩会自动移出伸缩组中不健康的ECS实例。
对于“自动创建的ECS实例”，弹性伸缩会停止和释放该ECS实例。对于“手工添加的ECS实例”，弹性伸缩不会停止和释放该ECS实例

12.阿里云弹性伸缩（ Auto Scaling） 提供了“ 弹性自愈” 功能：
如果伸缩组中某台 ECS 实例状态不是运行中，则该 ECS 实例会被移出伸缩组,同时自动创建一台新的 ECS 实例,添加到伸缩组中。

13.配置了伸缩配置之后，还需要配置  伸缩规则，才能完成一个弹性伸缩任务。

14.弹性伸缩特性：

    1.同一伸缩组内，同一时刻，只能有一个伸缩活动在执行
	2.伸缩活动不可以中断
	3.伸缩失败时，单个ECS进行回滚，而不是整体回滚，例如同时伸缩20台机器，19台成功，额外1台失败，将失败的移出之后再次添加进来进行伸缩

15.定时触发任务、手工执行伸缩规则、工作修改伸缩组最小实例数，可以绕过冷却时间立即执行伸缩活动。

16.配置了伸缩配置 + 配置伸缩规则，可以实现弹性伸缩

17.伸缩组里面定义的内容有：

	1.ECS实例组的最大值、最小值
	2.相关联的SLB实例和RDS实例等属性
	3.冷却时间

18.当用户创建一个伸缩组时包含：

	伸缩触发任务
	伸缩配置
	伸缩规则

19.ECS弹性伸缩的术语

    伸缩规则
    伸缩组
    伸缩配置
    伸缩活动

20.游戏行业有个明显的特点是业务流量很难预估，波动很大,负载均衡 SLB+云服务器 ECS+云数据库 RDS+弹性伸缩Auto Scaling；

21.如果在伸缩组中指定了RDS实例,则弹性伸缩会自动把伸缩组中的ECS实例的IP地址添加到RDS的白名单中去,无需手工设置

22.在某一时间点，弹性伸缩中，定时任务和报警任务同时满足执行条件时。

	同时只会有一个伸缩活动执行，定时任务的伸缩活动优先执行

23.__哪些类型的伸缩活动在冷却时间内也能执行？__

	1.定时任务触发的伸缩活动
	2.手工触发的伸缩活动
	3.健康模式触发的伸缩活动

24.设置“最小实例”为5台，“最大实例”10台，当前实例为3台，增加伸缩规则“增加3台ECS实例”
运行时间设置为1小时，1小时候，会自动增加3台ECS实例

25.设置当CPU小于30%自动减少1台ECS，需要创建一个报警任务来实现

26.阿里云的负载均衡SLB、云服务器ECS以及弹性伸缩(Auto Scaling)配合使用时,同一个负载均衡SLB实例的后端服务器池中可以包含多个伸缩组.

27.弹性伸缩单个用户最多支持100个ECS实例

28.ECS的伸缩规则是：__定义具体的扩展或收缩操作__

29.ECS一个伸缩组内最多10个伸缩规则



