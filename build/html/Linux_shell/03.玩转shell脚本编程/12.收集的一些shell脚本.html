

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.12. 收集的一些shell脚本 &mdash; Cloud_Linux_Road 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'1.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: ''
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="next" title="3.13. 自动化安装zabbix服务器shell脚本" href="13.自动安装zabbix服务器脚本.html" />
    <link rel="prev" title="3.11. xagrs使用" href="11.xagrs使用.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Cloud_Linux_Road
          

          
            
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../aliyun/index.html">阿里云ACP学习</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../aliyun/ECS/index.html">1. ECS知识点</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../aliyun/ECS/01.aliyun安装命令行工具.html">1.1. Linux 安装和使用 aliyuncli（python版）</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ECS/01.aliyun安装命令行工具.html#id1">1.1.1. 安装须知</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ECS/01.aliyun安装命令行工具.html#id4">1.1.2. 安装命令行工具</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../aliyun/ECS/02.安全组实践一.html">1.2. 安全组实践一</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ECS/02.安全组实践一.html#id2">1.2.1. 安全组作用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ECS/02.安全组实践一.html#id3">1.2.2. 最重要的规则：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ECS/02.安全组实践一.html#id4">1.2.3. 设置安全组的入网规则</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../aliyun/ECS/03.Linux远程连接ESC实例.html">1.3. Linux远程连接ESC实例</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ECS/03.Linux远程连接ESC实例.html#id1">1.3.1. 操作步骤</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../aliyun/ECS/04.迁云工具和P2V.html">1.4. 迁云工具和P2V</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ECS/04.迁云工具和P2V.html#id1">1.4.1. 适合的操作系统</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ECS/04.迁云工具和P2V.html#linux">1.4.2. Linux服务器注意事项</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../aliyun/ali_ACP_test/index.html">2. ACP考试整理</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../aliyun/ali_ACP_test/01.ECS_考点.html">2.1. 云服务器 ECS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ali_ACP_test/01.ECS_考点.html#id1">2.1.1. 考点整理</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../aliyun/ali_ACP_test/02.OSS_考点.html">2.2. 对象存储OSS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ali_ACP_test/02.OSS_考点.html#id1">2.2.1. 考点整理</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../aliyun/ali_ACP_test/03.SLB_考点.html">2.3. SLB负载均衡学习</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ali_ACP_test/03.SLB_考点.html#id1">2.3.1. 考点整理</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../aliyun/ali_ACP_test/04.VPC_考点.html">2.4. VPC（专有网络）</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ali_ACP_test/04.VPC_考点.html#id1">2.4.1. 考点整理</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../aliyun/ali_ACP_test/05.弹性伸缩-Auto_Scaling.html">2.5. 弹性伸缩-Auto_Scaling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ali_ACP_test/05.弹性伸缩-Auto_Scaling.html#id1">2.5.1. 考点整理</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../aliyun/ali_ACP_test/06.CDN_内容分发.html">2.6. CDN内容分发服务</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ali_ACP_test/06.CDN_内容分发.html#id1">2.6.1. 考点整理</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../aliyun/ali_ACP_test/07.云盾云安全.html">2.7. 云盾云安全</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ali_ACP_test/07.云盾云安全.html#id2">2.7.1. 考点整理</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../aliyun/ali_ACP_test/08.云计算小知识.html">2.8. 云计算通用知识</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../aliyun/ali_ACP_test/08.云计算小知识.html#id2">2.8.1. 考点整理</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../aliyun/ali_ACP_test/09.RDS云关系型数据库.html">2.9. RDS云关系型数据库</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Linux_shell</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../01.常用较多命名查询/index.html">1. 常用较多命名查询</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/01.find.html">1.1. find查找</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/01.find.html#id1">1.1.1. 功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/01.find.html#id2">1.1.2. 格式：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/01.find.html#id3">1.1.3. 常用选项：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/01.find.html#id4">1.1.4. 示例：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/02.正则表达式.html">1.2. 正则表达式</a></li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/03.lsof.html">1.3. lsof</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/03.lsof.html#id1">1.3.1. 功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/03.lsof.html#id2">1.3.2. 常用选项：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/03.lsof.html#id3">1.3.3. 示例：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/04.xargs.html">1.4. xargs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/04.xargs.html#id1">1.4.1. 功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/04.xargs.html#id2">1.4.2. 常用选项：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/04.xargs.html#id3">1.4.3. 示例：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/05.scp.html">1.5. scp</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/05.scp.html#id1">1.5.1. 功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/05.scp.html#id2">1.5.2. 常用选项：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/06.wget.html">1.6. wget</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/06.wget.html#id1">1.6.1. 功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/06.wget.html#id2">1.6.2. 常用选项：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/06.wget.html#id3">1.6.3. 示例：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/07.curl.html">1.7. curl</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/07.curl.html#id1">1.7.1. 功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/07.curl.html#id2">1.7.2. 常用选项：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/07.curl.html#id3">1.7.3. 示例：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/08.cut.html">1.8. cut</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/08.cut.html#id1">1.8.1. 功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/08.cut.html#id2">1.8.2. 常用选项：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/08.cut.html#id3">1.8.3. 示例：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/09.ss.html">1.9. ss</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/09.ss.html#id1">1.9.1. 功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/09.ss.html#id2">1.9.2. 常用选项：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/09.ss.html#id3">1.9.3. 示例：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/10.date.html">1.10. date</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/10.date.html#id1">1.10.1. 功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/10.date.html#id2">1.10.2. 常用选项：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/10.date.html#id3">1.10.3. 示例：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/11.nestat.html">1.11. netstat</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/11.nestat.html#id1">1.11.1. 功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/11.nestat.html#id2">1.11.2. 常用选项:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/11.nestat.html#id3">1.11.3. 示例：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/12.eval.html">1.12. eval</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/12.eval.html#id1">1.12.1. 功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/12.eval.html#id2">1.12.2. 示例：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/13.ssh.html">1.13. ssh</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/13.ssh.html#id1">1.13.1. 功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/13.ssh.html#id2">1.13.2. 常用选项：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/13.ssh.html#id3">1.13.3. 示例：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/14.nohup.html">1.14. nohup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/14.nohup.html#id1">1.14.1. 功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/14.nohup.html#id2">1.14.2. 示例：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/15.grep.html">1.15. grep</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/15.grep.html#id1">1.15.1. 参数说明</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/15.grep.html#grepif">1.15.2. grep用于if判断</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/16.route.html">1.16. route路由和网关设置</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/16.route.html#id1">1.16.1. 添加网关</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/16.route.html#id2">1.16.2. 删除</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/16.route.html#id3">1.16.3. 查看当前路由表</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/16.route.html#id4">1.16.4. 示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/17.exec.html">1.17. exec</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/17.exec.html#exec-find">1.17.1. exec+find联合使用示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/18.运算符.html">1.18. let运算符</a></li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/19.read.html">1.19. read</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/19.read.html#readn">1.19.1. 过read从键盘输入中读取到变量N的值</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/20.wc命令.html">1.20. wc命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/40.Linux初始化系统安全设置.html">1.21. Linux初始化系统安全设置</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/40.Linux初始化系统安全设置.html#ping">1.21.1. 1.禁止系统响应任何从外部/内部来的ping请求</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/40.Linux初始化系统安全设置.html#shell">1.21.2. 2.限制Shell记录的历史命令条数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/40.Linux初始化系统安全设置.html#id1">1.21.3. 3.删除系统默认的不必要用户和组</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/40.Linux初始化系统安全设置.html#selinux">1.21.4. 4.关闭SELinux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01.常用较多命名查询/40.Linux初始化系统安全设置.html#tcp-wrappers">1.21.5. 5.设定tcp_wrappers防火墙</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../01.常用较多命名查询/41.使用tar命令进行本地备份scripts.html">1.22. 使用tar命令进行本地备份scripts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../02.Linux服务器架设/index.html">2. Linux服务器架设</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../02.Linux服务器架设/1.RAID与LVM磁盘阵列技术.html">2.1. RAID与LVM磁盘阵列</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/1.RAID与LVM磁盘阵列技术.html#raid">2.1.1. RAID 技术</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../02.Linux服务器架设/2.NFS共享服务器搭建.html">2.2. NFS共享服务器搭建</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/2.NFS共享服务器搭建.html#nfs-centos7-6">2.2.1. 安装NFS服务（Centos7.6）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/2.NFS共享服务器搭建.html#id1">2.2.2. nfs搭建 方式二</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../02.Linux服务器架设/3.Vsftpd服务器搭建.html">2.3. vsftpd服务安装配置</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/3.Vsftpd服务器搭建.html#id1">2.3.1. 匿名用户登录配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/3.Vsftpd服务器搭建.html#id2">2.3.2. 系统用户登录配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/3.Vsftpd服务器搭建.html#id3">2.3.3. Vsftpd虚拟用户实战</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../02.Linux服务器架设/4.挂载硬盘mount命令.html">2.4. 挂载硬盘和分区</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/4.挂载硬盘mount命令.html#mount">2.4.1. mount命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/4.挂载硬盘mount命令.html#fdisk">2.4.2. fdisk命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/4.挂载硬盘mount命令.html#id2">2.4.3. 添加交换分区</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../02.Linux服务器架设/5.部署磁盘阵列.html">2.5. 部署磁盘阵列</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/5.部署磁盘阵列.html#raid-10">2.5.1. 制作一个RAID 10磁盘阵列</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/5.部署磁盘阵列.html#raid-5">2.5.2. 磁盘阵列+备份盘 (RAID 5)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../02.Linux服务器架设/6.Apache服务搭建.html">2.6. Apache服务源码搭建</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/6.Apache服务搭建.html#id1">2.6.1. Apache 的特点</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/6.Apache服务搭建.html#id2">2.6.2. Apache 源码安装编译配置</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../02.Linux服务器架设/7.使用iSCSI服务部署网络存储.html">2.7. 使用iSCSI服务部署网络存储</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/7.使用iSCSI服务部署网络存储.html#raid">2.7.1. 创建RAID磁盘阵列</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/7.使用iSCSI服务部署网络存储.html#iscsi-target-initiator">2.7.2. iSCSI技术在工作形式上分为服务端（target）与客户端（initiator）。</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../02.Linux服务器架设/8.远程登录Linux系统.html">2.8. 远程登录Linux系统</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/8.远程登录Linux系统.html#id1">2.8.1. 1.使用密钥认证登录</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/8.远程登录Linux系统.html#id3">2.8.2. 2.两台Linux之间互访</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../02.Linux服务器架设/9.Samba服务器的搭建.html">2.9. Samba服务器搭建</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/9.Samba服务器的搭建.html#id1">2.9.1. Samba的概念和功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/9.Samba服务器的搭建.html#id2">2.9.2. Samba的安装与配置</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../02.Linux服务器架设/10.rsync数据同步.html">2.10. rsync数据同步</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/10.rsync数据同步.html#abrsync">2.10.1. A系统、B系统安装rsync安装包</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/10.rsync数据同步.html#arsync">2.10.2. A系统rsync服务器端配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/10.rsync数据同步.html#brsync">2.10.3. B系统rsync客户端</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../02.Linux服务器架设/12.Tomcat服务搭建配置.html">2.11. Tomcat服务搭建配置</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/12.Tomcat服务搭建配置.html#id1">2.11.1. 安装tomcat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/12.Tomcat服务搭建配置.html#id2">2.11.2. 安装Tomcat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/12.Tomcat服务搭建配置.html#id6">2.11.3. 配置tomcat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/12.Tomcat服务搭建配置.html#jpress">2.11.4. 部署开源站点（jpress）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/12.Tomcat服务搭建配置.html#id9">2.11.5. Tomcat多实例配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../02.Linux服务器架设/12.Tomcat服务搭建配置.html#id10">2.11.6. Tomcat反向代理集群</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">3. 玩转shell脚本编程</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="01.基础知识.html">3.1. 一、基础知识</a><ul>
<li class="toctree-l4"><a class="reference internal" href="01.基础知识.html#shell">3.1.1. 一、Shell简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="01.基础知识.html#id2">3.1.2. 二、Shell分类</a></li>
<li class="toctree-l4"><a class="reference internal" href="01.基础知识.html#id3">3.1.3. 三、第一个Shell</a></li>
<li class="toctree-l4"><a class="reference internal" href="01.基础知识.html#id4">3.1.4. 四、执行Shell的三种方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="01.基础知识.html#id6">3.1.5. 五、Shell变量</a></li>
<li class="toctree-l4"><a class="reference internal" href="01.基础知识.html#id11">3.1.6. 六、引号</a></li>
<li class="toctree-l4"><a class="reference internal" href="01.基础知识.html#id12">3.1.7. 七、注释</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="02.字符串与数组.html">3.2. 二、字符串与数组</a><ul>
<li class="toctree-l4"><a class="reference internal" href="02.字符串与数组.html#id2">3.2.1. 一、字符串常用操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="02.字符串与数组.html#id8">3.2.2. 二、数组</a></li>
<li class="toctree-l4"><a class="reference internal" href="02.字符串与数组.html#id11">3.2.3. 三、字符显示颜色</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="03.运算符.html">3.3. 三、运算符</a><ul>
<li class="toctree-l4"><a class="reference internal" href="03.运算符.html#shell">3.3.1. 一、Shell表达式</a></li>
<li class="toctree-l4"><a class="reference internal" href="03.运算符.html#id2">3.3.2. 1.1 整数比较符</a></li>
<li class="toctree-l4"><a class="reference internal" href="03.运算符.html#id3">3.3.3. 1.2 算术运算符</a></li>
<li class="toctree-l4"><a class="reference internal" href="03.运算符.html#id4">3.3.4. 1.3 布尔运算符</a></li>
<li class="toctree-l4"><a class="reference internal" href="03.运算符.html#id5">3.3.5. 1.4 逻辑运算符</a></li>
<li class="toctree-l4"><a class="reference internal" href="03.运算符.html#id7">3.3.6. 1.5 文件测试运算符</a></li>
<li class="toctree-l4"><a class="reference internal" href="03.运算符.html#id8">3.3.7. 1.6 字符串测试</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="04.流程控制.html">3.4. 四、流程控制</a><ul>
<li class="toctree-l4"><a class="reference internal" href="04.流程控制.html#if">3.4.1. 一、if语句</a></li>
<li class="toctree-l4"><a class="reference internal" href="04.流程控制.html#for">3.4.2. 二、for循环</a></li>
<li class="toctree-l4"><a class="reference internal" href="04.流程控制.html#while">3.4.3. 三、while语句</a></li>
<li class="toctree-l4"><a class="reference internal" href="04.流程控制.html#break-continue">3.4.4. 四、break 和 continue 语句</a></li>
<li class="toctree-l4"><a class="reference internal" href="04.流程控制.html#case">3.4.5. 五、case语句</a></li>
<li class="toctree-l4"><a class="reference internal" href="04.流程控制.html#select">3.4.6. 六、select语句</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="05.函数.html">3.5. 五、函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="05.函数.html#id2">3.5.1. 一、概念</a></li>
<li class="toctree-l4"><a class="reference internal" href="05.函数.html#id3">3.5.2. 二、格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="05.函数.html#id4">3.5.3. 三、函数参数</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="06.正则表达式.html">3.6. 六、正则表达式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="06.正则表达式.html#id2">3.6.1. 一、基本正则表达式</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="07.三剑客之grep.html">3.7. 七、三剑客之grep</a><ul>
<li class="toctree-l4"><a class="reference internal" href="07.三剑客之grep.html#id1">3.7.1. 概念</a></li>
<li class="toctree-l4"><a class="reference internal" href="07.三剑客之grep.html#id2">3.7.2. 语法格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="07.三剑客之grep.html#id5">3.7.3. 使用举例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="08.三剑客之sed.html">3.8. 八、三剑客之sed</a><ul>
<li class="toctree-l4"><a class="reference internal" href="08.三剑客之sed.html#id1">3.8.1. 概念：</a></li>
<li class="toctree-l4"><a class="reference internal" href="08.三剑客之sed.html#id2">3.8.2. 适用场景</a></li>
<li class="toctree-l4"><a class="reference internal" href="08.三剑客之sed.html#id3">3.8.3. 语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="08.三剑客之sed.html#id4">3.8.4. 使用举例</a></li>
<li class="toctree-l4"><a class="reference internal" href="08.三剑客之sed.html#keepalive">3.8.5. 修改keepalive配置剔除后端服务器</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="09.三剑客-awk.html">3.9. 九、三剑客之awk</a><ul>
<li class="toctree-l4"><a class="reference internal" href="09.三剑客-awk.html#id1">3.9.1. 概念</a></li>
<li class="toctree-l4"><a class="reference internal" href="09.三剑客-awk.html#id2">3.9.2. awk输出</a></li>
<li class="toctree-l4"><a class="reference internal" href="09.三剑客-awk.html#id3">3.9.3. awk变量</a></li>
<li class="toctree-l4"><a class="reference internal" href="09.三剑客-awk.html#id4">3.9.4. 操作符</a></li>
<li class="toctree-l4"><a class="reference internal" href="09.三剑客-awk.html#pattern">3.9.5. Pattern</a></li>
<li class="toctree-l4"><a class="reference internal" href="09.三剑客-awk.html#action">3.9.6. 常用action</a></li>
<li class="toctree-l4"><a class="reference internal" href="09.三剑客-awk.html#array">3.9.7. array</a></li>
<li class="toctree-l4"><a class="reference internal" href="09.三剑客-awk.html#id6">3.9.8. 函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="09.三剑客-awk.html#id7">3.9.9. awk判断</a></li>
<li class="toctree-l4"><a class="reference internal" href="09.三剑客-awk.html#id8">3.9.10. awk循环</a></li>
<li class="toctree-l4"><a class="reference internal" href="09.三剑客-awk.html#id9">3.9.11. awk练习题</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="10.杂项.html">3.10. 十、shell杂项</a><ul>
<li class="toctree-l4"><a class="reference internal" href="10.杂项.html#id1">3.10.1. 一、输入输出</a></li>
<li class="toctree-l4"><a class="reference internal" href="10.杂项.html#id2">3.10.2. 二、命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="10.杂项.html#id3">3.10.3. 三、实战</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="11.xagrs使用.html">3.11. xagrs使用</a><ul>
<li class="toctree-l4"><a class="reference internal" href="11.xagrs使用.html#xargs">3.11.1. xargs功能：从标准输入执行命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="11.xagrs使用.html#id1">3.11.2. 常用选项：</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">3.12. 收集的一些shell脚本</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">3.12.1. 备份数据库脚本</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">3.12.2. 监控网站状态脚本</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">3.12.3. 进程控制示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lnmp">3.12.4. lnmp一键安装示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">3.12.5. 服务器初始化脚本示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">3.12.6. 服务启动脚本示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mysql">3.12.7. 监控mysql数据库示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tar-var-log">3.12.8. 每周五使用tar命令备份/var/log下的所有日志文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">3.12.9. 一些常用的函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">3.12.10. 检查监控内存、硬盘</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">3.12.11. 猜随机数</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ip">3.12.12. 检查网段内存活的主机IP信息</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">3.12.13. 进度条</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nginx">3.12.14. nginx启动脚本</a></li>
<li class="toctree-l4"><a class="reference internal" href="#test">3.12.15. 3种test的写法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#case-color">3.12.16. case+color用法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#io">3.12.17. 监控磁盘IO脚本</a></li>
<li class="toctree-l4"><a class="reference internal" href="#color-print">3.12.18. color_print例子</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="13.自动安装zabbix服务器脚本.html">3.13. 自动化安装zabbix服务器shell脚本</a><ul>
<li class="toctree-l4"><a class="reference internal" href="13.自动安装zabbix服务器脚本.html#install-zabbix-sh">3.13.1. install_zabbix.sh</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="14.自动化安装cacti脚本.html">3.14. 自动化安装cacti服务器脚本</a><ul>
<li class="toctree-l4"><a class="reference internal" href="14.自动化安装cacti脚本.html#install-cacti-sh">3.14.1. install_cacti.sh</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="15.自动安装MongoDB脚本.html">3.15. 自动化安装MongoDB脚本</a><ul>
<li class="toctree-l4"><a class="reference internal" href="15.自动安装MongoDB脚本.html#install-mongodb-sh">3.15.1. install_mongodb.sh</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="16.备份MongoDB脚本.html">3.16. 备份MongoDB脚本</a><ul>
<li class="toctree-l4"><a class="reference internal" href="16.备份MongoDB脚本.html#backup-mongodb-sh">3.16.1. backup_mongodb.sh</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="17.自动安装memcached脚本.html">3.17. 自动安装memcached脚本</a><ul>
<li class="toctree-l4"><a class="reference internal" href="17.自动安装memcached脚本.html#install-memcached-sh">3.17.1. install_memcached.sh</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="18.system检测脚本.html">3.18. 系统各项内容检测脚本</a><ul>
<li class="toctree-l4"><a class="reference internal" href="18.system检测脚本.html#check-system-sh">3.18.1. check_system.sh</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../04.玩转数据库（mysql、Redis）/index.html">4. 玩转数据库(mysql、Redis)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../04.玩转数据库（mysql、Redis）/01.Redis数据库.html">4.1. Redis的使用</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../04.玩转数据库（mysql、Redis）/01.Redis数据库.html#id1">4.1.1. 概念</a></li>
<li class="toctree-l4"><a class="reference internal" href="../04.玩转数据库（mysql、Redis）/01.Redis数据库.html#id2">4.1.2. 使用场景</a></li>
<li class="toctree-l4"><a class="reference internal" href="../04.玩转数据库（mysql、Redis）/01.Redis数据库.html#reidsmemcached">4.1.3. reids和memcached的比较</a></li>
<li class="toctree-l4"><a class="reference internal" href="../04.玩转数据库（mysql、Redis）/01.Redis数据库.html#id3">4.1.4. 安装与启动</a></li>
<li class="toctree-l4"><a class="reference internal" href="../04.玩转数据库（mysql、Redis）/01.Redis数据库.html#id4">4.1.5. redis的操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../04.玩转数据库（mysql、Redis）/01.Redis数据库.html#id7">4.1.6. 集合操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../04.玩转数据库（mysql、Redis）/01.Redis数据库.html#id11">4.1.7. 设置redis的连接密码</a></li>
<li class="toctree-l4"><a class="reference internal" href="../04.玩转数据库（mysql、Redis）/01.Redis数据库.html#pythonredis">4.1.8. python操作redis</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../05.Nginx学习/index.html">5. Nginx学习</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../06.LAMP、LNMP学习/index.html">6. LNMP、LAMP学习</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../06.LAMP、LNMP学习/01.LAMP部署.html">6.1. LAMP+WordPress环境</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../06.LAMP、LNMP学习/01.LAMP部署.html#lamp">6.1.1. 更多LAMP部署参考</a></li>
<li class="toctree-l4"><a class="reference internal" href="../06.LAMP、LNMP学习/01.LAMP部署.html#lampwordpress">6.1.2. LAMP与WordPress概述</a></li>
<li class="toctree-l4"><a class="reference internal" href="../06.LAMP、LNMP学习/01.LAMP部署.html#mariadb-mysql">6.1.3. 安装并配置MariaDB（MySQL）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../06.LAMP、LNMP学习/01.LAMP部署.html#php">6.1.4. 3.安装并配置PHP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../06.LAMP、LNMP学习/01.LAMP部署.html#phpmyadmin">6.1.5. 4.安装phpMyAdmin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../06.LAMP、LNMP学习/01.LAMP部署.html#wordpress">6.1.6. 5.部署WordPress程序</a></li>
<li class="toctree-l4"><a class="reference internal" href="../06.LAMP、LNMP学习/01.LAMP部署.html#id1">6.1.7. 测试LAMP环境安装的正确性</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../07.Zabbix监控企业实战/index.html">7. Zabbix监控企业实战</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../08.Linux构建高可用架构/index.html">8. 构建Linux高可用架构</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../08.Linux构建高可用架构/01.LVS负载均衡学习.html">8.1. LVS基于四层的负载均衡学习</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/01.LVS负载均衡学习.html#nat-virtualserver-via-network-address-translation-vs-nat">8.1.1. NAT模式-网络地址转换   Virtualserver via Network address translation(VS/NAT)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/01.LVS负载均衡学习.html#tun-ip-virtual-server-via-ip-tunneling-vs-tun">8.1.2. TUN模式-IP隧道模式          Virtual Server via IP Tunneling(VS/TUN)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/01.LVS负载均衡学习.html#dr-virtual-server-via-direct-routing-vs-dr">8.1.3. DR模式-直接路由模式          Virtual Server via Direct Routing(VS/DR)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/01.LVS负载均衡学习.html#id1">8.1.4. 三种负载均衡方式简单比较</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/01.LVS负载均衡学习.html#id2">8.1.5. LVS负载均衡调度算法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/01.LVS负载均衡学习.html#natlvs">8.1.6. NAT模式LVS搭建</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../08.Linux构建高可用架构/02.Nginx+keepalived 双机热备_主从.html">8.2. 企业级Nginx+keepalived 集群实战</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/02.Nginx+keepalived 双机热备_主从.html#keepalived">8.2.1. keepalived高可用简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/02.Nginx+keepalived 双机热备_主从.html#nginx-keepalivedweb">8.2.2. Nginx+keepalived高性能web网络架构实战拓扑</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/02.Nginx+keepalived 双机热备_主从.html#id1">8.2.3. 1、原理及环境</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../08.Linux构建高可用架构/03.Nginx+keepalived双主架构.html">8.3. Nginx+keepalived双主架构</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/03.Nginx+keepalived双主架构.html#id1">8.3.1. 双主模式拓扑图</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/03.Nginx+keepalived双主架构.html#id2">8.3.2. 环境说明</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/03.Nginx+keepalived双主架构.html#nginx-keepalived1-master">8.3.3. nginx_keepalived1_master</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/03.Nginx+keepalived双主架构.html#nginx-keepalived2-backup">8.3.4. nginx_keepalived2_backup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../08.Linux构建高可用架构/04.Redis+keepalived高可用集群实战.html">8.4. Redis+keepalived高可用集群实战</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/04.Redis+keepalived高可用集群实战.html#redis">8.4.1. Redis特点</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/04.Redis+keepalived高可用集群实战.html#id1">8.4.2. Redis 优势</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/04.Redis+keepalived高可用集群实战.html#id2">8.4.3. 环境介绍</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/04.Redis+keepalived高可用集群实战.html#id3">8.4.4. Redis的安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/04.Redis+keepalived高可用集群实战.html#id4">8.4.5. Redis主从的配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/04.Redis+keepalived高可用集群实战.html#id5">8.4.6. redis启动脚本</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/04.Redis+keepalived高可用集群实战.html#id6">8.4.7. 查看redis主从状态</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/04.Redis+keepalived高可用集群实战.html#keepalived">8.4.8. KeepAlived配置实现双机热备</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../08.Linux构建高可用架构/05.NFS+keepalived实现高可用共享.html">8.5. nfs+ keepalived高可用集群</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/05.NFS+keepalived实现高可用共享.html#nfs">8.5.1. 安装nfs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/05.NFS+keepalived实现高可用共享.html#nfskeepalived">8.5.2. NFS主备分别安装keepalived服务</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/05.NFS+keepalived实现高可用共享.html#keepalivd">8.5.3. keepalivd主配置文件详细内容</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/05.NFS+keepalived实现高可用共享.html#id1">8.5.4. keepalivd备配置文件详细内容</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/05.NFS+keepalived实现高可用共享.html#check-nfs">8.5.5. check_nfs检测脚本</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/05.NFS+keepalived实现高可用共享.html#vipnfs">8.5.6. 在备112机器上挂载VIP的nfs目录</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/05.NFS+keepalived实现高可用共享.html#id2">8.5.7. 在主111机器上挂载VIP的nfs目录</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../08.Linux构建高可用架构/06.MySQL 主从高可用架构.html">8.6. MySQL 主从高可用架构</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/06.MySQL 主从高可用架构.html#id1">8.6.1. MySQL 数据库主从复制原理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/06.MySQL 主从高可用架构.html#id2">8.6.2. MySQL复制的常用架构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/06.MySQL 主从高可用架构.html#id3">8.6.3. MySQL 数据库主从配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/06.MySQL 主从高可用架构.html#id4">8.6.4. 主和从服务器都安装 mysql 相关软件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/06.MySQL 主从高可用架构.html#id5">8.6.5. 配置主从</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/06.MySQL 主从高可用架构.html#id6">8.6.6. 测试主从同步</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../08.Linux构建高可用架构/07.MySQL主主同步高可用架构.html">8.7. MySQL主主同步高可用架构</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/07.MySQL主主同步高可用架构.html#id1">8.7.1. MySQL主主互备模式架构图</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/07.MySQL主主同步高可用架构.html#id2">8.7.2. MySQL 数据库主主配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/07.MySQL主主同步高可用架构.html#a">8.7.3. 主A数据库</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/07.MySQL主主同步高可用架构.html#b">8.7.4. 主B数据库</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/07.MySQL主主同步高可用架构.html#id3">8.7.5. Mysql同步引入话题</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../08.Linux构建高可用架构/08.MySQL双主+keepalived高可用集群.html">8.8. Mysql双主+keepalived集群架构</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/08.MySQL双主+keepalived高可用集群.html#keepalived">8.8.1. keepalived主机配置：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/08.MySQL双主+keepalived高可用集群.html#id1">8.8.2. keepalived备机配置:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/08.MySQL双主+keepalived高可用集群.html#id2">8.8.3. 主备机监控脚本</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/08.MySQL双主+keepalived高可用集群.html#vipmysql">8.8.4. 检测VIP连接mysql是否成功</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../08.Linux构建高可用架构/09.Haproxy+keepalived主从-主主高可用架构.html">8.9. Haproxy+keepalived主从-主主高可用架构</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/09.Haproxy+keepalived主从-主主高可用架构.html#haproxy">8.9.1. Haproxy介绍</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/09.Haproxy+keepalived主从-主主高可用架构.html#haproxylvs">8.9.2. Haproxy与LVS的异同</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/09.Haproxy+keepalived主从-主主高可用架构.html#id1">8.9.3. 快速安装HAProxy集群软件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/09.Haproxy+keepalived主从-主主高可用架构.html#id2">8.9.4. Haproxy 主备机器配置文件详细如下</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/09.Haproxy+keepalived主从-主主高可用架构.html#id3">8.9.5. 配置haproxy记录日志</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/09.Haproxy+keepalived主从-主主高可用架构.html#id4">8.9.6. Haproxy+keepalived主从</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/09.Haproxy+keepalived主从-主主高可用架构.html#id7">8.9.7. Haproxy+keepalived主主</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../08.Linux构建高可用架构/10.LVS+Keepalived主从_主主高可用集群.html">8.10. LVS+keeplaived高可用集群</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/10.LVS+Keepalived主从_主主高可用集群.html#lvs-keepalived">8.10.1. LVS+keepalived 主从高可用模式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../08.Linux构建高可用架构/10.LVS+Keepalived主从_主主高可用集群.html#id1">8.10.2. LVS+keepalived 主主高可用模式</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../08.Linux构建高可用架构/11.MySQL读、写分离解决方案.html">8.11. MySQL读、写分离解决方案</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../09.Zabbix 3.0 从入门到精通/index.html">9. Zabbix3.0入门到精通</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../KVM_Study/index.html">KVM_Study</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Docker/index.html">Docker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Docker/01.Docker学习/index.html">1. Docker学习</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Docker/01.Docker学习/01.Docker是什么.html">1.1. Docker是什么？</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/01.Docker是什么.html#id1">1.1.1. docker的应用场景</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Docker/01.Docker学习/02.docker的安装.html">1.2. docker的架构</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Docker/01.Docker学习/02.docker的安装.html#id1">1.3. Docker 安装</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/02.docker的安装.html#ubuntu-docker">1.3.1. Ubuntu Docker 安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/02.docker的安装.html#centos-docker">1.3.2. CentOS Docker 安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/02.docker的安装.html#windows-docker">1.3.3. Windows Docker 安装</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Docker/01.Docker学习/03.容器的基本操作.html">1.4. 容器的基本操作</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/03.容器的基本操作.html#id2">1.4.1. 创建容器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/03.容器的基本操作.html#id3">1.4.2. 创建一个交互式的容器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/03.容器的基本操作.html#id4">1.4.3. 启动容器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/03.容器的基本操作.html#id5">1.4.4. 终止容器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/03.容器的基本操作.html#id6">1.4.5. 容器内信息获取和命令执行</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/03.容器的基本操作.html#id7">1.4.6. 查看容器日志</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/03.容器的基本操作.html#id8">1.4.7. 查看容器进程</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/03.容器的基本操作.html#id9">1.4.8. 查看容器信息</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/03.容器的基本操作.html#id10">1.4.9. 查询容器的运行状态</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/03.容器的基本操作.html#ip">1.4.10. 查询容器的IP地址</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/03.容器的基本操作.html#id11">1.4.11. 容器中镜像的使用</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Docker/01.Docker学习/04.镜像的常用操作.html">1.5. 镜像的常用操作</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/04.镜像的常用操作.html#id2">1.5.1. 查看镜像</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/04.镜像的常用操作.html#id3">1.5.2. 下载镜像</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/04.镜像的常用操作.html#id4">1.5.3. 查找镜像</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/04.镜像的常用操作.html#id5">1.5.4. 拖取镜像</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/04.镜像的常用操作.html#id6">1.5.5. 删除镜像</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/04.镜像的常用操作.html#id7">1.5.6. 更新镜像</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/04.镜像的常用操作.html#commit">1.5.7. 使用commit创建本地镜像</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/04.镜像的常用操作.html#dockerfile">1.5.8. 使用 Dockerfile 创建镜像</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/04.镜像的常用操作.html#id8">1.5.9. 设置镜像标签</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/04.镜像的常用操作.html#id9">1.5.10. 创建注册服务器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/04.镜像的常用操作.html#id10">1.5.11. 如何运行容器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/04.镜像的常用操作.html#id11">1.5.12. 两种进入容器的方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/04.镜像的常用操作.html#id12">1.5.13. 容器常见操作整理</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Docker/01.Docker学习/05.Dokcer网络.html">1.6. Docker 网络</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/05.Dokcer网络.html#id1">1.6.1. Docker网络</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/05.Dokcer网络.html#id2">1.6.2. 自定义容器网络</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/05.Dokcer网络.html#id3">1.6.3. 容器之间的连通性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/05.Dokcer网络.html#docker-dns-server">1.6.4. Docker DNS Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/05.Dokcer网络.html#id4">1.6.5. 暴露网络端口</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Docker/01.Docker学习/05.Dokcer网络.html#id5">1.6.6. 容器访问外网</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Docker/02.Docker经典示例/index.html">2. Docker经典示例</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Cloud/index.html">Cloud</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Cloud/01.华为云学习/index.html">1. 华为云学习</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Cloud/01.华为云学习/01.华为云FusionCloud6.3.1实施.html">1.1. 华为云FusionCloud6.3.1实施部署</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Cloud/01.华为云学习/01.华为云FusionCloud6.3.1实施.html#id1">1.1.1. 设备信息</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Cloud/01.华为云学习/01.华为云FusionCloud6.3.1实施.html#id2">1.1.2. 网络拓扑图：</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Cloud/02.openstack学习/index.html">2. openstack学习</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Network_route_switch/index.html">Network_route_switch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/index.html">1. 华为设备数通玩转</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html">1.1. HCNA基础知识</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#console">1.1.1. Console口登录密码丢失后如何恢复</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#bootrom">1.1.2. BootROM密码丢失后如何恢复</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#id4">1.1.3. 清空配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#id5">1.1.4. 通过Console口首次登录设备</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#telnet">1.1.5. Telnet登录密码丢失后如何恢复</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#id8">1.1.6. 配置Telnet类型的本地用户</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#id9">1.1.7. 备份配置文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#id10">1.1.8. 恢复配置文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#stelnet-ssh">1.1.9. 配置通过STelnet登录设备(ssh连接交换机)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#acl">1.1.10. 使用基本ACL规则限制用户登录</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#vrp">1.1.11. VRP（通用路由平台）操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#ip">1.1.12. 熟悉常用的IP相关命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#id11">1.1.13. 交换机基础配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#mac">1.1.14. 常见的MAC地址操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#id12">1.1.15. 接口配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#id13">1.1.16. 一键清除接口下的配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#id14">1.1.17. 链路聚合操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#vlan">1.1.18. vlan学习</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#dhcp">1.1.19. 常见的DHCP操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#id15">1.1.20. 利用三层交换机实现vlan间路由</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#stp">1.1.21. STP生成树学习</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#eth-trunk">1.1.22. Eth-trunk 链路聚合</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/01.HCNA基础知识.html#id17">1.1.23. 静态路由</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/02.HCNA实验举例.html">1.2. HCNA实验</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/02.HCNA实验举例.html#id1">1.2.1. 1.1 以太网接口和配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/02.HCNA实验举例.html#vlan">1.2.2. 1.2 VLAN配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/02.HCNA实验举例.html#gvrp">1.2.3. 1.3 GVRP配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/02.HCNA实验举例.html#id9">1.2.4. 1.4 VLAN间路由</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/02.HCNA实验举例.html#ip-acl">1.2.5. 1.5 IP安全配置(ACL)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/03.华为路由器、交换机常用命令.html">1.3. 华为设备常用命令</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/03.华为路由器、交换机常用命令.html#id2">1.3.1. 华为路由器交换机配置命令：路由器命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/03.华为路由器、交换机常用命令.html#id3">1.3.2. 华为路由器交换机配置命令：静态路由：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/03.华为路由器、交换机常用命令.html#id4">1.3.3. 华为路由器交换机配置命令：动态路由：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/03.华为路由器、交换机常用命令.html#id5">1.3.4. 华为路由器交换机配置命令：标准访问列表命令格式如下：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/03.华为路由器、交换机常用命令.html#id6">1.3.5. 华为路由器交换机配置命令：扩展访问控制列表配置命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/03.华为路由器、交换机常用命令.html#id7">1.3.6. 华为路由器交换机配置命令：扩展访问控制列表操作符的含义</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/03.华为路由器、交换机常用命令.html#id8">1.3.7. 华为路由器交换机配置命令：扩展访问控制列表举例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/03.华为路由器、交换机常用命令.html#id9">1.3.8. 查看交换机日志</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Network_route_switch/01.华为设备数通玩转/04.小型园区组网场景.html">1.4. 小型园区组网场景</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Network_route_switch/02.华为USG防火墙玩转/index.html">2. 华为USG防火墙玩转</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Network_route_switch/02.华为USG防火墙玩转/01.华为防火墙玩转.html">2.1. 华为防火墙玩转</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/02.华为USG防火墙玩转/01.华为防火墙玩转.html#usg">2.1.1. USG防火墙学习</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/02.华为USG防火墙玩转/01.华为防火墙玩转.html#id2">2.1.2. 防火墙的工作模式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/02.华为USG防火墙玩转/01.华为防火墙玩转.html#id6">2.1.3. 防火墙的基本功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/02.华为USG防火墙玩转/01.华为防火墙玩转.html#id11">2.1.4. 负载均衡</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/02.华为USG防火墙玩转/01.华为防火墙玩转.html#id13">2.1.5. 虚拟防火墙</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/02.华为USG防火墙玩转/01.华为防火墙玩转.html#usgnat">2.1.6. USG防火墙NAT业务</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/02.华为USG防火墙玩转/01.华为防火墙玩转.html#id20">2.1.7. 实验</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/02.华为USG防火墙玩转/01.华为防火墙玩转.html#id22">2.1.8. 部署场景</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Network_route_switch/03.思科设备数通复习/index.html">3. 思科设备数通复习</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Network_route_switch/03.思科设备数通复习/01.常用基本命令.html">3.1. Cisco交换机路由器常用命令</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/03.思科设备数通复习/01.常用基本命令.html#id1">3.1.1. 交换机</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/03.思科设备数通复习/01.常用基本命令.html#id4">3.1.2. 路由器</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Network_route_switch/04.H3C数通玩转/index.html">4. H3C设备数通</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Network_route_switch/04.H3C数通玩转/1.H3C设备升级版本补丁.html">4.1. H3C设备升级版本补丁</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/04.H3C数通玩转/1.H3C设备升级版本补丁.html#ftp">4.1.1. 配置交换机为FTP服务器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/04.H3C数通玩转/1.H3C设备升级版本补丁.html#pc">4.1.2. PC作为客户端进行上传</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/04.H3C数通玩转/1.H3C设备升级版本补丁.html#boot">4.1.3. 指定下次boot文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/04.H3C数通玩转/1.H3C设备升级版本补丁.html#s5130ei">4.1.4. 升级S5130EI</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Network_route_switch/04.H3C数通玩转/2.交换机配置堆叠.html">4.2. 交换机配置堆叠</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/04.H3C数通玩转/2.交换机配置堆叠.html#sw1">4.2.1. 千兆SW1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/04.H3C数通玩转/2.交换机配置堆叠.html#sw2">4.2.2. 千兆SW2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Network_route_switch/04.H3C数通玩转/3.配置H3C交换机SSH.html">4.3. 配置H3C交换机 ssh</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Network_route_switch/04.H3C数通玩转/3.配置H3C交换机SSH.html#id1">4.3.1. 脚本</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Network_route_switch/04.H3C数通玩转/4.配置eth-trunk.html">4.4. 配置eth-trunk</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Network_route_switch/04.H3C数通玩转/5.H3C 40G1分4 10G接口.html">4.5. 40G一分4接口的合并和拆分</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../VMware_study/index.html">VMware_study</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../VMware_study/01.VMware学习/index.html">1. VMware虚拟化学习</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../other/index.html">Other</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../other/01.Git入门到熟练/index.html">1. Git入门到熟练</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../other/02.构建自己的写书博客/index.html">2. 构建写书博客</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../other/02.构建自己的写书博客/1.Python利用sphinx构建个人博客.html">2.1. Python利用sphinx构建个人博客</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../other/02.构建自己的写书博客/1.Python利用sphinx构建个人博客.html#id1">2.1.1. 一、基础概念</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other/02.构建自己的写书博客/1.Python利用sphinx构建个人博客.html#id2">2.1.2. 二、流程</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other/02.构建自己的写书博客/1.Python利用sphinx构建个人博客.html#id3">2.1.3. 三、实施部署</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../other/02.构建自己的写书博客/1.Python利用sphinx构建个人博客.html#githubread-the-docs">2.1.4. 3.11 关联github和read the docs</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Python/index.html">Python自动化运维</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Python/01.Python数据类型/index.html">1. Python数据类型</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/01.Python数据类型/01.字符编码处理.html">1.1. 字符编码处理</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/01.字符编码处理.html#id2">1.1.1. 入门</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/01.字符编码处理.html#id3">1.1.2. 指定字符编码</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/01.字符编码处理.html#id4">1.1.3. 记忆方法参考下图：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/01.Python数据类型/02.代码注释.html">1.2. 代码注释</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/02.代码注释.html#id2">1.2.1. 单行注释</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/02.代码注释.html#id3">1.2.2. 多行注释</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/01.Python数据类型/03.字符串数据类型.html">1.3. 字符串数据类型</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/03.字符串数据类型.html#id2">1.3.1. 字符串内建方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/03.字符串数据类型.html#id3">1.3.2. 字符串格式化</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/03.字符串数据类型.html#id5">1.3.3. 字符串的修改和替换</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/03.字符串数据类型.html#id7">1.3.4. 字符串格式化输出</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/01.Python数据类型/04.列表数据类型.html">1.4. 列表 List</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/04.列表数据类型.html#id1">1.4.1. 列表类型内建函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/04.列表数据类型.html#id4">1.4.2. 列表的高级特性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/04.列表数据类型.html#id6">1.4.3. 列表的查找、排序、反转</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/01.Python数据类型/05.元祖数据类型.html">1.5. 元祖 Tuple</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/05.元祖数据类型.html#id1">1.5.1. 元祖和列表类似，区别不可变</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/05.元祖数据类型.html#id3">1.5.2. 元祖</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/05.元祖数据类型.html#id4">1.5.3. 列表</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/01.Python数据类型/06.字典数据结构.html">1.6. 字典  Dict</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/06.字典数据结构.html#id1">1.6.1. 字典的内置方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/06.字典数据结构.html#id3">1.6.2. 添加/修改/删除字典元素</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/06.字典数据结构.html#id5">1.6.3. 字典推导式</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/01.Python数据类型/07.集合数据类型.html">1.7. 集合 Set()</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/07.集合数据类型.html#id1">1.7.1. 可以用于去重复数据</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/07.集合数据类型.html#id2">1.7.2. 集合的方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/07.集合数据类型.html#id3">1.7.3. 交集、并集、差集、对称差集</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/07.集合数据类型.html#id6">1.7.4. 集合的修改和删除</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/07.集合数据类型.html#id8">1.7.5. 列表、元祖、字典、集合的区别</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/01.Python数据类型/08.数据类型转换.html">1.8. Python数据类型转换</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/08.数据类型转换.html#id1">1.8.1. 整数、浮点数、字符串之间的转换</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/08.数据类型转换.html#id3">1.8.2. 字符串转列表 /列表转字符串</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/08.数据类型转换.html#id6">1.8.3. 列表转元祖/元祖转列表</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/08.数据类型转换.html#id7">1.8.4. 字典格式字符串&#8212;&gt; 字典</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/01.Python数据类型/09.关于深浅拷贝.html">1.9. 深浅拷贝</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/09.关于深浅拷贝.html#id2">1.9.1. 这么记忆</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/09.关于深浅拷贝.html#id3">1.9.2. 举例说明：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/01.Python数据类型/10.列表实现堆和队列.html">1.10. 列表实现堆和队列</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/10.列表实现堆和队列.html#id2">1.10.1. 堆栈是指最先进入堆栈的元素最后才输出  &#8212; &#8220;后进先出&#8220;的顺序。</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/10.列表实现堆和队列.html#id3">1.10.2. 队列是指最先进入队列的元素最先输出&#8212; &#8220;先进先出&#8220;的顺序</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/01.Python数据类型/11.内置常量与逻辑运算符、比较运算符.html">1.11. 内置常量与逻辑运算符、比较运算符</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/11.内置常量与逻辑运算符、比较运算符.html#id2">1.11.1. 内置常量</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/11.内置常量与逻辑运算符、比较运算符.html#or">1.11.2. or运算符的操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/11.内置常量与逻辑运算符、比较运算符.html#and">1.11.3. and运算操作符</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/11.内置常量与逻辑运算符、比较运算符.html#python">1.11.4. python中的比较运算符</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/11.内置常量与逻辑运算符、比较运算符.html#is-is-not">1.11.5. is 和 is not</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/01.Python数据类型/11.内置常量与逻辑运算符、比较运算符.html#in-not-in">1.11.6. in 和not in</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/02.流程控制语句/index.html">2. Python中流程控制语句</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/02.流程控制语句/01.选择语句.html">2.1. 选择语句</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/02.流程控制语句/01.选择语句.html#python">2.1.1. Python代码执行过程</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/02.流程控制语句/01.选择语句.html#id2">2.1.2. 条件判断</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/02.流程控制语句/01.选择语句.html#id5">2.1.3. 三元运算符</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/02.流程控制语句/02.for循环语句.html">2.2. for循环语句</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/02.流程控制语句/02.for循环语句.html#id1">2.2.1. 说明</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/02.流程控制语句/02.for循环语句.html#id5">2.2.2. 嵌套循环</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/02.流程控制语句/03.while循环.html">2.3. While循环</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/02.流程控制语句/03.while循环.html#id1">2.3.1. 代码示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/02.流程控制语句/03.while循环.html#id2">2.3.2. 打印99乘法表</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/02.流程控制语句/03.while循环.html#id3">2.3.3. 遍历输出列表</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/02.流程控制语句/04.switch语句的替代方案.html">2.4. switch语句替代方案</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/02.流程控制语句/04.switch语句的替代方案.html#id1">2.4.1. 代码示例1：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/02.流程控制语句/04.switch语句的替代方案.html#id2">2.4.2. 类来实现switch 调度方法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/02.流程控制语句/05.实现一个简单购物车的代码.html">2.5. 实现一个简单的购物车代码</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/02.流程控制语句/05.实现一个简单购物车的代码.html#id2">2.5.1. 需求分析</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/02.流程控制语句/06.手写一个三级菜单.html">2.6. 手写一个三级菜单</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/02.流程控制语句/06.手写一个三级菜单.html#id2">2.6.1. 需求分析</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/03.函数/index.html">3. Python函数</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/03.函数/01.定义一个函数.html">3.1. 定义1个函数，形参3个</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/03.函数/02.位置参数.html">3.2. 函数中的位置参数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/02.位置参数.html#id2">3.2.1. 根据形参的位置，依次将3个参数传入</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/03.函数/03.定义关键字参数.html">3.3. 关键字参数，实参=xxx，实参和形参一一对应</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/03.函数/04.默认值参数.html">3.4. 默认值参数，位于所有形参的最后</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/04.默认值参数.html#id2">3.4.1. 代码示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/03.函数/05.可变参数.html">3.5. 可变参数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/05.可变参数.html#id2">3.5.1. 代码示例1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/05.可变参数.html#id3">3.5.2. 代码示例2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/05.可变参数.html#id4">3.5.3. 代码示例3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/05.可变参数.html#id5">3.5.4. 代码示例4</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/05.可变参数.html#id6">3.5.5. 位置参数和可变参数一起使用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/05.可变参数.html#id8">3.5.6. 接受任意参数的函数</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/03.函数/06.函数的解包.html">3.6. 参数的解包</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/06.函数的解包.html#id2">3.6.1. 演示一个小例子</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/03.函数/07.函数调用时参数传递方法.html">3.7. 函数调用时，参数传递的方法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/07.函数调用时参数传递方法.html#id2">3.7.1. 代码示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/03.函数/08.函数的返回值.html">3.8. 函数的返回值</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/08.函数的返回值.html#id2">3.8.1. 代码示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/03.函数/09.变量的作用域.html">3.9. 变量的作用域</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/09.变量的作用域.html#id2">3.9.1. 代码示例1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/09.变量的作用域.html#id3">3.9.2. 代码示例2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/03.函数/10.匿名函数的用法.html">3.10. 匿名函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/10.匿名函数的用法.html#id2">3.10.1. 代码示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/03.函数/11.匹配字符的函数.html">3.11. 简单的函数示例</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/11.匹配字符的函数.html#id2">3.11.1. 代码示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/03.函数/12.列表作为默认参数的陷阱.html">3.12. 列表作为默认参数时的陷阱</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/12.列表作为默认参数的陷阱.html#id2">3.12.1. 代码示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/03.函数/13.一个求值的函数例子.html">3.13. 一个求值的函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/03.函数/13.一个求值的函数例子.html#id2">3.13.1. 代码示例</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/04.内建函数/index.html">4. Python内建函数</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html">4.1. Python内建函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html#map">4.1.1. map()函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html#filter">4.1.2. filter()函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html#reduce">4.1.3. reduce()函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html#id1">4.1.4. 匿名函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html#evalexeccompile">4.1.5. eval、exec、compile函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html#reversed">4.1.6. reversed()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html#sorted">4.1.7. sorted()函数正向排列:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html#zip-s-t">4.1.8. zip(s,t)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html#cmp-x-y">4.1.9. cmp(x,y)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html#round-x-n">4.1.10. round(x[,n])</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html#dir-sys">4.1.11. dir(sys)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html#abs">4.1.12. abs()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html#id2">4.1.13. round(x[,n])</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/04.内建函数/01.常用的内建函数.html#isinstance-object-int">4.1.14. isinstance(object,int)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/05.推导式/index.html">5. 推导式学习</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/05.推导式/01.列表推导式.html">5.1. 列表推导式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/05.推导式/01.列表推导式.html#id2">5.1.1. 代码示例1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/05.推导式/01.列表推导式.html#id3">5.1.2. 代码示例2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/05.推导式/02.字典推导式.html">5.2. 字典推导式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/05.推导式/02.字典推导式.html#id2">5.2.1. 代码示例1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/05.推导式/02.字典推导式.html#id3">5.2.2. 代码示例2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/05.推导式/03.推导式进阶.html">5.3. 推导式进阶</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/05.推导式/03.推导式进阶.html#id2">5.3.1. 代码示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/05.推导式/04.集合推导式.html">5.4. 集合推导式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/05.推导式/04.集合推导式.html#id2">5.4.1. 代码示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/05.推导式/05.生成器推导式.html">5.5. 生成器推导式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/05.推导式/05.生成器推导式.html#id2">5.5.1. 代码示例</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/index.html">6. 生成器、迭代器、装饰器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/01.迭代器.html">6.1. 迭代器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/01.迭代器.html#id2">6.1.1. 代码示例1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/01.迭代器.html#id3">6.1.2. 代码示例2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/01.迭代器.html#id4">6.1.3. 代码示例3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/02.itertools模块中常用的工具函数.html">6.2. 导入 itertools模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/02.itertools模块中常用的工具函数.html#itertools-count">6.2.1. itertools.count() 设置步长</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/02.itertools模块中常用的工具函数.html#itertools-cycle-a-b">6.2.2. itertools.cycle([&#8216;a&#8216;,&#8216;b&#8216;])</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/02.itertools模块中常用的工具函数.html#itertools-repeat-hu-10">6.2.3. itertools.repeat(&#8220;hu&#8220;,10)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/02.itertools模块中常用的工具函数.html#itertools-chain-1-3-2-3">6.2.4. itertools.chain([1,3],[2,3])</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/02.itertools模块中常用的工具函数.html#itertools-compress-1-2-3-4-1-true-3">6.2.5. itertools.compress([1,2,3,4],[1,[],True,3])</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/02.itertools模块中常用的工具函数.html#itertools-dropwhile-lambda-x-x-6-8-9-1-2-8-9">6.2.6. itertools.dropwhile(lambda x:x&gt;6,[8,9,1,2,8,9]))</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/02.itertools模块中常用的工具函数.html#itertools-takewhile-lambda-x-x-10-18-19-1-21-8-9">6.2.7. itertools.takewhile(lambda x:x&gt;10,[18,19,1,21,8,9])</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/02.itertools模块中常用的工具函数.html#id1">6.2.8. itertools其他工具函数用法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/03.生成器.html">6.3. 生成器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/03.生成器.html#id2">6.3.1. 快速定义一个生成器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/03.生成器.html#id6">6.3.2. 生成器和协程</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/04.装饰器.html">6.4. 装饰器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/04.装饰器.html#id2">6.4.1. 一个普通的装饰器函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/04.装饰器.html#id3">6.4.2. 带参数的装饰器 1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/04.装饰器.html#id4">6.4.3. 带参数的装饰器 2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/04.装饰器.html#id5">6.4.4. 带参数的装饰器 3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/04.装饰器.html#id6">6.4.5. 定义装饰类的装饰器 1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/06.迭代器_生成器_装饰器/04.装饰器.html#id8">6.4.6. 类装饰器 2</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/index.html">7. 面对对象设计_OOP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/01.什么是面对对象设计.html">7.1. 什么是面对对象设计</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/01.什么是面对对象设计.html#id2">7.1.1. 万物皆对象</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/01.什么是面对对象设计.html#id3">7.1.2. 创建第一个类</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/02.类的方法.html">7.2. 类的方法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/02.类的方法.html#id2">7.2.1. 定义方法、并进行实例化</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/03.类中的__init__方法.html">7.3. 类中的__init__方法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/03.类中的__init__方法.html#id1">7.3.1. __init__方法又称构造方法，</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/04.实例属性是什么？.html">7.4. 实例属性是什么?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/04.实例属性是什么？.html#id2">7.4.1. 代码示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/05.一个基础有属性和方法的类.html">7.5. 一个基础有方法和属性的类</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/05.一个基础有属性和方法的类.html#id2">7.5.1. 方法和属性</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/06.类中可调用自己方法和外部函数.html">7.6. 类中调用自身方法和函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/06.类中可调用自己方法和外部函数.html#id2">7.6.1. 类中调用自身</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/07.类属性和实例属性.html">7.7. 类属性和实例属性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/07.类属性和实例属性.html#id2">7.7.1. 用代码来理解</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/08.类方法、实例方法、静态方法.html">7.8. 类方法、静态方法、实例方法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/08.类方法、实例方法、静态方法.html#id2">7.8.1. 用代码来理解</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/09.property装饰器，将方法转为属性,动态属性.html">7.9. property装饰器，将方法转为属性,动态属性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/09.property装饰器，将方法转为属性,动态属性.html#id1">7.9.1. 访问方式和之前略有区别,用属性的方式访问</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/09.property装饰器，将方法转为属性,动态属性.html#id5">7.9.2. 使用property函数调用私有属性</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/10.方法的重写.html">7.10. 方法的重写</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/10.方法的重写.html#id2">7.10.1. 用代码来理解</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/10.方法的重写.html#super">7.10.2. 使用super()函数进行修改重写父类的方法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/11.类的继承.html">7.11. 类的继承</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/11.类的继承.html#id2">7.11.1. 类继承的顺序</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/11.类的继承.html#id4">7.11.2. 类的多重继承，同时继承多个类的顺序</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/12.方法的动态特性.html">7.12. 方法的动态特性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/12.方法的动态特性.html#id2">7.12.1. 可以将外部函数 动态的添加到类中</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/13.为属性添加限制，访问限制.html">7.13. 为属性添加限制，访问限制</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/13.为属性添加限制，访问限制.html#id2">7.13.1. 私有属性设置说明</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/13.为属性添加限制，访问限制.html#id5">7.13.2. 私有属性的保护和设置</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/14.类的高级特性.html">7.14. 类的高级特性</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/14.类的高级特性.html#super">7.14.1. super函数的执行顺序</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/14.类的高级特性.html#id2">7.14.2. 对象的 自省 功能</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/14.类的高级特性.html#id3">7.14.3. 类中实例属性的查找顺序</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/14.类的高级特性.html#isinstance">7.14.4. isinstance()的用法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/14.类的高级特性.html#id4">7.14.5. 抽象基类</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/14.类的高级特性.html#id7">7.14.6. 元类</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/14.类的高级特性.html#type">7.14.7. 通过type来创建类</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/14.类的高级特性.html#id8">7.14.8. 通过传入的字符串动态的创建不同的类</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/15.一些魔法方法.html">7.15. 一些魔法方法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/15.一些魔法方法.html#call">7.15.1. __call__方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/15.一些魔法方法.html#doc">7.15.2. __doc__方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/15.一些魔法方法.html#getitem">7.15.3. __getitem__方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/15.一些魔法方法.html#init-new">7.15.4. __init__方法和__new__方法的区别</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/15.一些魔法方法.html#slots">7.15.5. __slots__限制实例的变量</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/15.一些魔法方法.html#str-repr">7.15.6. __str__和__repr__的使用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/15.一些魔法方法.html#del">7.15.7. 构造方法和__del__析构方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/15.一些魔法方法.html#id2">7.15.8. 运算符重载</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/15.一些魔法方法.html#id3">7.15.9. 其他一些魔法方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/15.一些魔法方法.html#getattr-getattribute">7.15.10. __getattr__和__getattribute__的区别</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/15.一些魔法方法.html#getattr">7.15.11. __getattr__方法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/16.类的反射，设置、删除、检测.html">7.16. 类的检测、判断、设置、删除、获取</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/16.类的反射，设置、删除、检测.html#id2">7.16.1. 用代码来理解</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/17.类属性描述符.html">7.17. 类属性描述符</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/17.类属性描述符.html#id2">7.17.1. 用代码来理解</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/18.多态-鸭子类型.html">7.18. 多态-鸭子类型</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/18.多态-鸭子类型.html#id2">7.18.1. 用代码来理解</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/19.一个简单的类示例.html">7.19. 一个简单的类的例子</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/19.一个简单的类示例.html#id2">7.19.1. 用代码来理解</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/20.人开枪射击子弹_OOP.html">7.20. 人开枪射击子弹_OOP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/07.面对对象设计_OOP/20.人开枪射击子弹_OOP.html#id1">7.20.1. 分析</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/08.1异常处理/index.html">8. 异常处理</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/08.1异常处理/1.异常处理.html">8.1. 异常处理</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.1异常处理/1.异常处理.html#id2">8.1.1. 举例1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.1异常处理/1.异常处理.html#id3">8.1.2. 举例2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/08.1异常处理/2.断言操作（抛出异常）.html">8.2. 断言操作（抛出异常）</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.1异常处理/2.断言操作（抛出异常）.html#id2">8.2.1. 举例1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.1异常处理/2.断言操作（抛出异常）.html#id3">8.2.2. 举例2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/08.1异常处理/3.自定义异常类.html">8.3. 自定义异常类</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.1异常处理/3.自定义异常类.html#id2">8.3.1. 举例1</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/08.Python文件操作/index.html">9. Python文件操作</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/08.Python文件操作/01.open()函数介绍.html">9.1. Open()函数介绍</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/01.open()函数介绍.html#id1">9.1.1. 语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/01.open()函数介绍.html#id2">9.1.2. 打开文件的模式</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/08.Python文件操作/02.读写文件.html">9.2. 读写文件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/02.读写文件.html#id2">9.2.1. 再次理解文件打开的模式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/02.读写文件.html#python">9.2.2. Python文件读取方式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/02.读写文件.html#id5">9.2.3. 追加日志</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/02.读写文件.html#rb">9.2.4. 二进制读取“rb”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/02.读写文件.html#id8">9.2.5. 逐行读取文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/02.读写文件.html#while">9.2.6. 读取大文件时，建议采用while循环来逐行进行读取</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/02.读写文件.html#id11">9.2.7. Python文件写入方式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/02.读写文件.html#wb">9.2.8. 二进制写“wb”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/02.读写文件.html#id15">9.2.9. Python文件操作所提供的方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/02.读写文件.html#id16">9.2.10. 文件随机读写</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/08.Python文件操作/03.使用with语句读写文件.html">9.3. 使用with语句读写文件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/03.使用with语句读写文件.html#id1">9.3.1. with语句介绍</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/03.使用with语句读写文件.html#id2">9.3.2. with 工作原理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/03.使用with语句读写文件.html#id6">9.3.3. 同时打开多个文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/03.使用with语句读写文件.html#id8">9.3.4. 同时开启2个文件修改后改名</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/03.使用with语句读写文件.html#id10">9.3.5. 上下文管理器介绍</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/03.使用with语句读写文件.html#open">9.3.6. 定义一个类似open函数的上下文管理器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/03.使用with语句读写文件.html#id13">9.3.7. 总结</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/08.Python文件操作/04.高级文件操作.html">9.4. 高级文件操作</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/04.高级文件操作.html#id2">9.4.1. 文件属性信息转换 函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/04.高级文件操作.html#id4">9.4.2. 重命名文件</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/08.Python文件操作/05.目录操作.html">9.5. 目录操作</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/05.目录操作.html#osos-path">9.5.1. 初探os和os.path模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/05.目录操作.html#id2">9.5.2. 创建目录</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/05.目录操作.html#id4">9.5.3. 删除目录</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/05.目录操作.html#id6">9.5.4. 遍历目录</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/08.Python文件操作/06.目录迭代的两种方式.html">9.6. 目录迭代的两种方式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/06.目录迭代的两种方式.html#id2">9.6.1. 方式一</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/06.目录迭代的两种方式.html#id3">9.6.2. 方式二</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/06.目录迭代的两种方式.html#id4">9.6.3. 遍历文件下的所有目录</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/08.Python文件操作/07.批量文件重命名.html">9.7. 批量文件重命名</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/07.批量文件重命名.html#id2">9.7.1. 代码示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/08.Python文件操作/08.读取文件向xls中写入姓名和考号.html">9.8. 读取文件向xls中写入姓名和考号</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/08.读取文件向xls中写入姓名和考号.html#id1">9.8.1. 先读取出内容,在写入xls中</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/08.Python文件操作/09.获取当前的路径.html">9.9. 获取当前的路径</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/08.Python文件操作/10.StringIO和BytesIO用法.html">9.10. StringIO</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/10.StringIO和BytesIO用法.html#id1">9.10.1. 代码示例 1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/10.StringIO和BytesIO用法.html#id2">9.10.2. 像读文件一样的使用StringIO</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/08.Python文件操作/10.StringIO和BytesIO用法.html#bytesio">9.11. BytesIO</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/10.StringIO和BytesIO用法.html#id4">9.11.1. 代码示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/08.Python文件操作/10.StringIO和BytesIO用法.html#id5">9.11.2. 像读文件一样的使用BytesIO</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/09.正则表达式/index.html">10. Re正则表达式</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/09.正则表达式/01.正则表达式.html">10.1. 正则表达式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/09.正则表达式/01.正则表达式.html#id2">10.1.1. 正则表达式语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/09.正则表达式/01.正则表达式.html#id11">10.1.2. 正则表达式匹配模式</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/09.正则表达式/02.匹配字符串示例.html">10.2. 匹配字符串示例</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/09.正则表达式/02.匹配字符串示例.html#re-match-pattern-string-flags">10.2.1. re.match(pattern，string，[flags])    #从字符串的第一个开始匹配</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/09.正则表达式/02.匹配字符串示例.html#re-search-pattern-string-flags">10.2.2. re.search(pattern，string，[flags])  #搜索整个字符串</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/09.正则表达式/02.匹配字符串示例.html#re-findll-pattern-string-flags">10.2.3. re.findll(pattern，string，[flags])   #在字符串中查找所有符合正则表达式的字符串，并返回字符串的列表</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/09.正则表达式/03.替换字符串示例.html">10.3. 替换字符串示例</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/09.正则表达式/03.替换字符串示例.html#re-sub-pattern-repl-string-count-flags">10.3.1. re.sub(pattern,repl,string,count,[flags])</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/09.正则表达式/04.分割字符串示例.html">10.4. 分割字符串示例</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/09.正则表达式/04.分割字符串示例.html#re-split-pattern-string-maxsplit-0-flags">10.4.1. re.split(pattern,string[,maxsplit=0],[flags])</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/09.正则表达式/05.初始化正则.html">10.5. 初始化正则表达式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/09.正则表达式/05.初始化正则.html#re-compile-pattern-flags">10.5.1. re.compile(pattern[,flags])</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/09.正则表达式/05.初始化正则.html#id5">10.5.2. 匹配对象与索引的使用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/09.正则表达式/05.初始化正则.html#id7">10.5.3. 匹配对象与组的使用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/09.正则表达式/05.初始化正则.html#id9">10.5.4. 零宽断言</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/09.正则表达式/06.正则表达式举例.html">10.6. 正则表达式举例</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/09.正则表达式/06.正则表达式举例.html#id2">10.6.1. 代码示例</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/10.Python中的包和模块/index.html">11. Python中包和模块</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/10.Python中的包和模块/01.模块与包.html">11.1. 模块与包</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/10.Python中的包和模块/01.模块与包.html#id2">11.1.1. 使用模块有什么好处？</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/10.Python中的包和模块/01.模块与包.html#python-package">11.1.2. 为了避免模块名冲突，Python又引入了按目录来组织模块的方法，称为包（Package）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/10.Python中的包和模块/01.模块与包.html#id3">11.1.3. 包名通常为全部小写，避免使用下划线。</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/10.Python中的包和模块/01.模块与包.html#id4">11.1.4. 记忆方法参考下图：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/10.Python中的包和模块/02.包的讲解.html">11.2. 包的讲解</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/10.Python中的包和模块/02.包的讲解.html#id2">11.2.1. 模块搜索路径</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/10.Python中的包和模块/02.包的讲解.html#windossys-path">11.2.2. 像设置windos环境变量一样的设置sys.path</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/10.Python中的包和模块/02.包的讲解.html#id3">11.2.3. 模块的搜索顺序是这样的：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/10.Python中的包和模块/02.包的讲解.html#package">11.2.4. 包（Package）：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/10.Python中的包和模块/03.python中 __main__正确理解.html">11.3. if <strong>name</strong> == &#8216;<strong>main</strong>&#8216;</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/10.Python中的包和模块/03.python中 __main__正确理解.html#python">11.3.1. 一个python的文件有两种使用的方法：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/10.Python中的包和模块/03.python中 __main__正确理解.html#id1">11.3.2. 运行原理</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/11.Python网络编程/index.html">12. Python 网络编程</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/11.Python网络编程/01.python网络编程基础.html">12.1. TCP/IP协议</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/01.python网络编程基础.html#osi">12.1.1. OSI七层网络模型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/01.python网络编程基础.html#ositcp-ip">12.1.2. OSI七层模型和TCP/IP四层模型 对应的网络协议</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/01.python网络编程基础.html#id1">12.1.3. TCP/IP协议中，其各层之间的通信机制</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/01.python网络编程基础.html#socket">12.1.4. 什么是socket套接字？</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/11.Python网络编程/02.socket编程.html">12.2. socket编程</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/02.socket编程.html#pythonsocket">12.2.1. Python中的socket通信逻辑如下图所示（图片来自网络）：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/02.socket编程.html#id1">12.2.2. 具体的参数定义：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/02.socket编程.html#socket-socket">12.2.3. socket.socket()方法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/11.Python网络编程/02.socket编程.html#id2">12.3. 注意事项：</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/02.socket编程.html#id3">12.3.1. socket编程思路：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/02.socket编程.html#id4">12.3.2. 客户端:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/02.socket编程.html#tcp">12.3.3. TCP编程</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/02.socket编程.html#id11">12.3.4. socket模块创建多线程服务器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/02.socket编程.html#udp">12.3.5. UDP编程</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/11.Python网络编程/03.socketserver编程.html">12.4. socketserver编程</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/03.socketserver编程.html#threadingtcpserver">12.4.1. 使用ThreadingTCPServer的要点:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/03.socketserver编程.html#id1">12.4.2. ThreadingTCPServer 示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/03.socketserver编程.html#id5">12.4.3. 服务器端的代码，核心要点</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/11.Python网络编程/04.python收发邮件学习.html">12.5. Python发送邮件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/04.python收发邮件学习.html#test">12.5.1. 发送一个简单的test邮件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/04.python收发邮件学习.html#id2">12.5.2. 完整的发送邮件代码</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/04.python收发邮件学习.html#html">12.5.3. 发送HTML的邮件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/04.python收发邮件学习.html#id7">12.5.4. 发送带附件的邮件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/04.python收发邮件学习.html#smtp">12.5.5. 加密SMTP邮件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/11.Python网络编程/04.python收发邮件学习.html#pop3">12.5.6. POP3下载查阅邮件</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/12.Python操作数据库/index.html">13. Python对数据库的操作</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/12.Python操作数据库/01.Python操作mysql数据库.html">13.1. python操作mysql数据库</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/01.Python操作mysql数据库.html#id1">13.1.1. python连接mysql数据库</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/01.Python操作mysql数据库.html#python">13.1.2. python创建数据库表</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/01.Python操作mysql数据库.html#id5">13.1.3. 数据库插入语句</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/01.Python操作mysql数据库.html#id7">13.1.4. 数据库更新操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/01.Python操作mysql数据库.html#id9">13.1.5. 数据库删除操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/01.Python操作mysql数据库.html#id11">13.1.6. 数据库查询操作</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/12.Python操作数据库/02.Python操作SQLite数据库.html">13.2. Python 操作SQLite数据库</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/02.Python操作SQLite数据库.html#id1">13.2.1. 连接数据库</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/02.Python操作SQLite数据库.html#id2">13.2.2. 创建表</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/02.Python操作SQLite数据库.html#insert">13.2.3. INSERT 操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/02.Python操作SQLite数据库.html#select">13.2.4. SELECT 操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/02.Python操作SQLite数据库.html#update">13.2.5. UPDATE 操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/02.Python操作SQLite数据库.html#delete">13.2.6. DELETE 操作</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/12.Python操作数据库/03.Python封装mysql数据库.html">13.3. python操作mysql数据库封装类和方法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/03.Python封装mysql数据库.html#id1">13.3.1. 封装类方法 1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/03.Python封装mysql数据库.html#id2">13.3.2. 封装类方法 2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/12.Python操作数据库/04.mysql介绍和安装.html">13.4. Mysql介绍和安装</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/04.mysql介绍和安装.html#id1">13.4.1. 数据库简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/04.mysql介绍和安装.html#linuxmysql">13.4.2. Linux安装mysql方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/04.mysql介绍和安装.html#windowsmysql">13.4.3. windows安装mysql方法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/12.Python操作数据库/05.数据库操作.html">13.5. 数据库操作</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/05.数据库操作.html#id2">13.5.1. 1.显示</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/05.数据库操作.html#id3">13.5.2. 2.创建</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/05.数据库操作.html#id4">13.5.3. 3.删除</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/05.数据库操作.html#id5">13.5.4. 4.使用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/05.数据库操作.html#id6">13.5.5. 5.用户管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/05.数据库操作.html#id7">13.5.6. 6.用户授权</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/05.数据库操作.html#id8">13.5.7. 7.忘记密码</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/05.数据库操作.html#mysql">13.5.8. 8.Mysql数据类型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/05.数据库操作.html#id12">13.5.9. 9.mysql存储引擎</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/12.Python操作数据库/06.数据库增删改查.html">13.6. 数据库之增删改查</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/06.数据库增删改查.html#id2">13.6.1. 创建表</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/06.数据库增删改查.html#id3">13.6.2. 删除表</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/06.数据库增删改查.html#id4">13.6.3. 修改表</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/12.Python操作数据库/06.数据库增删改查.html#id5">13.6.4. 表内容操作</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/13.Python标准库/index.html">14. Python 标准库学习</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/01.csv模块文件读写.html">14.1. csv模块文件读写</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/01.csv模块文件读写.html#csv-csv">14.1.1. 写入CSV数据，可以使用csv模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/01.csv模块文件读写.html#id1">14.1.2. 读取csv文件数据</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/02.json、pickle、shelve模块.html">14.2. Json和Pickle序列化</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/02.json、pickle、shelve模块.html#json">14.2.1. Json</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/02.json、pickle、shelve模块.html#json-dumps">14.2.2. json.dumps()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/02.json、pickle、shelve模块.html#json-loads">14.2.3. json.loads()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/02.json、pickle、shelve模块.html#json-dump">14.2.4. json.dump() 先序列化，再写入文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/02.json、pickle、shelve模块.html#json-load">14.2.5. json.load() 读取文件反序列化</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/02.json、pickle、shelve模块.html#id1">14.2.6. json读写文件示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/02.json、pickle、shelve模块.html#pickle-python">14.2.7. Pickle(只能用于python中)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/02.json、pickle、shelve模块.html#shelve">14.2.8. shelve模块</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/03.shutil模块.html">14.3. shutil模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/03.shutil模块.html#id1">14.3.1. 常用的方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/03.shutil模块.html#id2">14.3.2. 文件和目录操作</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/04.time、datetime模块.html">14.4. time、datetime模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/04.time、datetime模块.html#time">14.4.1. time模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/04.time、datetime模块.html#datetime">14.4.2. datetime模块</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/05.randome模块.html">14.5. randome模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/05.randome模块.html#id1">14.5.1. 随机验证码</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/06.os(系统模块).html">14.6. os 模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/06.os(系统模块).html#id1">14.6.1. 文件处理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/06.os(系统模块).html#id2">14.6.2. 目录/文件夹</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/06.os(系统模块).html#id3">14.6.3. 访问/权限</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/06.os(系统模块).html#id4">14.6.4. 文件描述符操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/06.os(系统模块).html#id5">14.6.5. 设备号</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/06.os(系统模块).html#os-path">14.6.6. os.path模块</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/07.sys(系统操作模块).html">14.7. sys系统操作模块</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/08.configparser模块.html">14.8. configparser模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/08.configparser模块.html#id1">14.8.1. 配置文件示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/08.configparser模块.html#python">14.8.2. 用python生成这样的一个配置文档</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/08.configparser模块.html#id2">14.8.3. 读取</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/08.configparser模块.html#id3">14.8.4. 增删改查</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/08.configparser模块.html#id4">14.8.5. 修改后的配置文件</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/09.hashlib模块.html">14.9. hashlib算法库模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/09.hashlib模块.html#md5">14.9.1. md5加密</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/09.hashlib模块.html#sha1">14.9.2. sha1加密</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/09.hashlib模块.html#sha256">14.9.3. sha256加密</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/09.hashlib模块.html#sha384">14.9.4. sha384加密</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/09.hashlib模块.html#sha512">14.9.5. sha512加密</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/09.hashlib模块.html#hmac">14.9.6. hmac加密</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/09.hashlib模块.html#id1">14.9.7. 获取文件的MD5</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/10.re模块.html">14.10. re模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/10.re模块.html#id1">14.10.1. 常用的正则</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/10.re模块.html#id2">14.10.2. re的方法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/11.logging模块.html">14.11. logging模块</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/12.zipfile、tarfile模块学习.html">14.12. zipfile、tarfile模块学习</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/12.zipfile、tarfile模块学习.html#zipfile">14.12.1. zipfile模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/12.zipfile、tarfile模块学习.html#tarfile">14.12.2. tarfile模块</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/13.subprocess模块.html">14.13. subprocess模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/13.subprocess模块.html#call">14.13.1. call()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/13.subprocess模块.html#check-call">14.13.2. check_call()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/13.subprocess模块.html#check-output">14.13.3. check_output()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/13.subprocess模块.html#subprocess-popen">14.13.4. subprocess.Popen()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/13.subprocess模块.html#id1">14.13.5. subprocess.Popen()实例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/14.collections模块.html">14.14. collections模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/14.collections模块.html#namedtuple">14.14.1. namedtuple</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/14.collections模块.html#deque">14.14.2. deque</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/14.collections模块.html#chainmap">14.14.3. ChainMap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/14.collections模块.html#counter">14.14.4. Counter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/14.collections模块.html#ordereddict">14.14.5. OrderedDict</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/14.collections模块.html#defaultdict">14.14.6. defaultdict</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/13.Python标准库/15.Redis模块.html">14.15. Python标准库系列之Redis模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/13.Python标准库/15.Redis模块.html#id1">14.15.1. 入门及使用</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/14.Python三方库/index.html">15. Python 三方库学习</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/14.Python三方库/01.psutil模块.html">15.1. psutil模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/01.psutil模块.html#id1">15.1.1. 安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/01.psutil模块.html#cpu">15.1.2. CPU</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/01.psutil模块.html#id2">15.1.3. 内存</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/01.psutil模块.html#id3">15.1.4. 磁盘</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/01.psutil模块.html#id4">15.1.5. 网络</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/01.psutil模块.html#id5">15.1.6. 其他信息</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/01.psutil模块.html#id6">15.1.7. 系统进程管理方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/01.psutil模块.html#id7">15.1.8. 更多参考</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/14.Python三方库/02.paramiko（ssh秘钥执行命令).html">15.2. paramiko模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/02.paramiko（ssh秘钥执行命令).html#id1">15.2.1. 安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/02.paramiko（ssh秘钥执行命令).html#id2">15.2.2. paramiko实例(账号密码登录执行命令)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/02.paramiko（ssh秘钥执行命令).html#id3">15.2.3. 代码示例2:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/02.paramiko（ssh秘钥执行命令).html#id4">15.2.4. 代码示例2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/02.paramiko（ssh秘钥执行命令).html#id5">15.2.5. paramiko实例(传送文件)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/02.paramiko（ssh秘钥执行命令).html#id6">15.2.6. paramiko实例(密钥执行命令)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/02.paramiko（ssh秘钥执行命令).html#ssh-pool">15.2.7. ssh并发(Pool控制最大并发)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/02.paramiko（ssh秘钥执行命令).html#ssh">15.2.8. ssh并发(取文件状态并发送邮件)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/14.Python三方库/03.IPy模块.html">15.3. IPy模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/03.IPy模块.html#iv4ipv6">15.3.1. 区分Iv4和IPv6</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/14.Python三方库/03.IPy模块.html#id1">15.3.2. 列出网段内的主机数</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/20.自动化运维工具/index.html">16. 自动化运维工具</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html">16.1. Ansible入门与playbook实战</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#ansible">16.1.1. 关于Ansible</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#id1">16.1.2. 安装Ansible</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#id2">16.1.3. Ansible常用的核心模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#command">16.1.4. command模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#cron">16.1.5. cron模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#user">16.1.6. user模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#group">16.1.7. group模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#copy">16.1.8. copy模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#file">16.1.9. file模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#ping">16.1.10. ping模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#service">16.1.11. service模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#shell">16.1.12. shell 模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#scripts">16.1.13. scripts模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#yum">16.1.14. yum模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#setup">16.1.15. setup模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#ansibleyaml">16.1.16. ansible配合YAML使用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/01.Ansible入门与playbook实战.html#roles">16.1.17. Roles介绍</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html">16.2. Saltstack安装使用入门（自己总结）</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#id1">16.2.1. 安装部署篇：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#saltstacksaltstack">16.2.2. 快速入门SaltStack快速入门SaltStack</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#centos67-yum">16.2.3. 默认以CentOS6、7为例，采用yum安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#epel">16.2.4. 安装EPEL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#id2">16.2.5. 修改主机名和域名解析</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#id3">16.2.6. 服务器端安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#centos-6-7">16.2.7. centos 6/7 启动/重启/停止命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#id4">16.2.8. Saltstack防火墙配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#minion">16.2.9. 客户端minion程序安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#id5">16.2.10. 查看自动认证状况</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#id6">16.2.11. 使用基础</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#salt-master">16.2.12. salt-master上常用的命令：</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#id7">16.2.13. 所有主机查看系统</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#id8">16.2.14. 查看所有节点名称</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#salt">16.2.15. 查询所有主机salt的版本号是多少？</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#id9">16.2.16. 远程执行模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#id15">16.2.17. 用户管理模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#cron">16.2.18. cron模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#cp">16.2.19. cp模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#dnsutil">16.2.20. dnsutil模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#file">16.2.21. file模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#iptables">16.2.22. iptables模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#netwrok">16.2.23. netwrok模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#pkg">16.2.24. pkg包管理模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#service">16.2.25. Service服务模块</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#grains">16.2.26. 被控端主机定制grains数据</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#id18">16.2.27. 通过配置文件安装程序</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#httpd">16.2.28. 批量安装httpd服务</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#id19">16.2.29. 批量安装常用命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#dns">16.2.30. 批量设置所有主机的DNS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#sysctl-conf">16.2.31. 批量设置所有主机的sysctl.conf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/20.自动化运维工具/02.Saltstack安装使用入门.html#id20">16.2.32. 编写自己的模块代码</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/21.Django学习/index.html">17. Django学习</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/22.Python进阶学习/index.html">18. Python进阶学习</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/22.Python进阶学习/01.数据结构和算法.html">18.1. 数据结构和算法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/22.Python进阶学习/01.数据结构和算法.html#id2">18.1.1. 解包和打包</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/22.Python进阶学习/01.数据结构和算法.html#id3">18.1.2. 命名切片</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/22.Python进阶学习/02.字符串和文本.html">18.2. 字符串和文本</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/22.Python进阶学习/02.字符串和文本.html#id2">18.2.1. 多个界定符来分割字符串</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/22.Python进阶学习/02.字符串和文本.html#id3">18.2.2. 检查字符串开头或结尾</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/22.Python进阶学习/02.字符串和文本.html#shell">18.2.3. 使用shell的通配符来匹配字符串</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/22.Python进阶学习/02.字符串和文本.html#id5">18.2.4. 贪婪匹配和非贪婪匹配</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/22.Python进阶学习/02.字符串和文本.html#id6">18.2.5. 字符串对齐</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/22.Python进阶学习/02.字符串和文本.html#id7">18.2.6. 拼接字符串的方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/22.Python进阶学习/02.字符串和文本.html#id11">18.2.7. 字符串中插入变量</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/22.Python进阶学习/02.字符串和文本.html#id12">18.2.8. 指定列宽格式化显示字符串</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/22.Python进阶学习/03.迭代器与生成器.html">18.3. 迭代器与生成器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/22.Python进阶学习/03.迭代器与生成器.html#id2">18.3.1. 手动遍历迭代器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/22.Python进阶学习/03.迭代器与生成器.html#id3">18.3.2. 反向迭代</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/22.Python进阶学习/03.迭代器与生成器.html#id4">18.3.3. 同时迭代多个序列</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/22.Python进阶学习/04.上下文管理器.html">18.4. 上下文管理器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/22.Python进阶学习/05.解压多个可迭代对象进行赋值.html">18.5. *号的妙用</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Python/23.Python网络爬虫/index.html">19. Python网络爬虫</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Python/23.Python网络爬虫/01.基础语法复习.html">19.1. 基础语法复习</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/01.基础语法复习.html#id2">19.1.1. 变量</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/01.基础语法复习.html#id3">19.1.2. 字符串的加法 和 乘法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/01.基础语法复习.html#id4">19.1.3. 字符串的切片和索引</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/01.基础语法复习.html#id5">19.1.4. 字符串方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/01.基础语法复习.html#id6">19.1.5. 函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/01.基础语法复习.html#id7">19.1.6. 判断语句</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/01.基础语法复习.html#id8">19.1.7. 循环语句</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/01.基础语法复习.html#python">19.1.8. Python数据结构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/01.基础语法复习.html#id12">19.1.9. 文件操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/01.基础语法复习.html#id15">19.1.10. 面对对象</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/23.Python网络爬虫/02.爬虫原理和网页结构.html">19.2. 爬虫原理</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/02.爬虫原理和网页结构.html#id2">19.2.1. 两种爬虫流程</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/23.Python网络爬虫/03.我的第一个爬虫程序.html">19.3. 我的第一个爬虫程序</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/03.我的第一个爬虫程序.html#requests">19.3.1. requests 库</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/03.我的第一个爬虫程序.html#beautifulsoup">19.3.2. BeautifulSoup 库</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/23.Python网络爬虫/04.正则表达式.html">19.4. 正则表达式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/04.正则表达式.html#id2">19.4.1. 一般字符</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/04.正则表达式.html#id3">19.4.2. 预定义字符集</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/04.正则表达式.html#id4">19.4.3. 数量词</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/04.正则表达式.html#id5">19.4.4. 边界匹配</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/04.正则表达式.html#id6">19.4.5. 贪婪匹配和非贪婪匹配</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/23.Python网络爬虫/05.re模块的常用方法.html">19.5. re模块的常用方法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/05.re模块的常用方法.html#re-match">19.5.1. re.match()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/05.re模块的常用方法.html#re-sub">19.5.2. re.sub()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/05.re模块的常用方法.html#re-findall">19.5.3. re.findall()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/05.re模块的常用方法.html#id4">19.5.4. re模块装饰符</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/23.Python网络爬虫/06.三种爬虫模式性能对比.html">19.6. 3种爬虫模式性能对比</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/06.三种爬虫模式性能对比.html#id2">19.6.1. 输出结果</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/06.三种爬虫模式性能对比.html#id3">19.6.2. 总结</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/23.Python网络爬虫/案例：爬取小说.html">19.7. 案例：爬取小说</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/案例：爬取小说.html#id2">19.7.1. 代码示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/23.Python网络爬虫/案例：爬取糗事百科内容.html">19.8. 爬取糗事百科内容</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/23.Python网络爬虫/案例：爬取豆瓣TOP250的书籍.html">19.9. 爬取豆瓣TOP250的书籍列表</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/案例：爬取豆瓣TOP250的书籍.html#id1">19.9.1. 思路</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/23.Python网络爬虫/案例：爬取起点中文网数据存到excel中.html">19.10. 爬取数据存到excel中</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/案例：爬取起点中文网数据存到excel中.html#id1">19.10.1. 思路</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Python/23.Python网络爬虫/案例：爬取酷狗TOP500的数据.html">19.11. 爬取酷狗TOP500的数据</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Python/23.Python网络爬虫/案例：爬取酷狗TOP500的数据.html#id1">19.11.1. 代码示例</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Cloud_Linux_Road</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Linux_shell</a> &raquo;</li>
        
          <li><a href="index.html">3. 玩转shell脚本编程</a> &raquo;</li>
        
      <li>3.12. 收集的一些shell脚本</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/Linux_shell/03.玩转shell脚本编程/12.收集的一些shell脚本.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="shell">
<h1>3.12. 收集的一些shell脚本<a class="headerlink" href="#shell" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>3.12.1. 备份数据库脚本<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="c1">#this scripts is backup_mysql_db</span>

<span class="nv">mysqldump</span><span class="o">=</span><span class="s2">&quot;/usr/local/mysql/bin/mysqldump&quot;</span>
<span class="nv">bakuser</span><span class="o">=</span><span class="s2">&quot;backup&quot;</span>
<span class="nv">passwd</span><span class="o">=</span><span class="s2">&quot;admin#123&quot;</span>
<span class="nv">bakdir</span><span class="o">=</span><span class="s2">&quot;/data/backup&quot;</span>
<span class="nv">remote_dir</span><span class="o">=</span><span class="s1">&#39;rsync://10.10.10.122/mysqlbak&#39;</span>
<span class="nv">d1</span><span class="o">=</span><span class="sb">`</span>date +%F<span class="sb">`</span>
<span class="nv">d2</span><span class="o">=</span><span class="sb">`</span>date +%d<span class="sb">`</span>

<span class="c1">#定义日志</span>
<span class="nb">exec</span> <span class="p">&amp;</span>&gt; /tmp/mysql_bak.log

<span class="nb">echo</span> <span class="s2">&quot;mysql backup begin at `date`&quot;</span>

<span class="c1">#对所有数据库进行遍历</span>
<span class="k">for</span> db in item1 item2 item3 <span class="p">;</span> <span class="k">do</span>
    <span class="nv">$mysqldump</span> -u<span class="nv">$bakuser</span> -p<span class="nv">$passwd</span> <span class="nv">$db</span> &gt; <span class="nv">$bakdir</span>/<span class="nv">$db</span>-<span class="nv">$d1</span>.sql
<span class="k">done</span>

<span class="c1">#对1天前的所有sql文件压缩</span>
find <span class="nv">$bakdir</span>/ -type f -name <span class="s2">&quot;*.sql&quot;</span> -mtime +1 <span class="p">|</span>xargs gzip

<span class="c1">#查找一周以前的老文件，并删除</span>
find <span class="nv">$bakdir</span>/ -type f -mtime +7 <span class="p">|</span> xargs rm

<span class="c1">#当天备份文件同步到远程</span>
<span class="k">for</span> db in item1 item2 item3 <span class="p">;</span> <span class="k">do</span>
    rsync -a <span class="nv">$bakdir</span>/<span class="nv">$db</span>-<span class="nv">$d1</span>.sql <span class="nv">$remote_dir</span>/<span class="nv">$db</span>-<span class="nv">$d2</span>.sql
<span class="k">done</span>

<span class="nb">echo</span> <span class="s2">&quot;mysql bacup end at `date`&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h2>3.12.2. 监控网站状态脚本<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="nb">source</span> /etc/init.d/functions
<span class="k">if</span> <span class="o">[</span> <span class="nv">$#</span> -ne <span class="m">1</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> $<span class="s2">&quot;usage </span><span class="nv">$0</span><span class="s2"> url&quot;</span>
    <span class="nb">exit</span> 1
<span class="k">fi</span>

<span class="k">while</span> true<span class="p">;</span> <span class="k">do</span>
    <span class="k">if</span> <span class="o">[</span> <span class="sb">`</span>curl -o /dev/null --connect-timeout <span class="m">5</span> -s -w  <span class="s2">&quot;%{http_code}&quot;</span> <span class="nv">$1</span> <span class="p">|</span> egrep -w <span class="s2">&quot;200|301|302&quot;</span><span class="p">|</span>wc -l<span class="sb">`</span> -ne <span class="m">1</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
        action <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2"> is error.&quot;</span> /bin/false
        <span class="c1">#echo &quot;$1 is error.&quot;|mail -s &quot;$1 is error.&quot; 1879324764@qq.com</span>
     <span class="k">else</span>
        action <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2"> is ok &quot;</span> /bin/true
    <span class="k">fi</span>
    sleep 10
<span class="k">done</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h2>3.12.3. 进程控制示例<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="nv">pidpath</span><span class="o">=</span>/tmp/a.pid
<span class="k">if</span> <span class="nb">test</span> -f <span class="s2">&quot;</span><span class="nv">$pidpath</span><span class="s2">&quot;</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">kill</span> <span class="sb">`</span>cat <span class="nv">$pidpath</span><span class="sb">`</span> &gt; /dev/null 2&gt;<span class="p">&amp;</span><span class="m">1</span>        <span class="c1">#杀掉与前一个进程对应的进程</span>
        rm -rf <span class="nv">$pidpath</span>

<span class="k">fi</span>
<span class="nb">echo</span> <span class="nv">$$</span> &gt; <span class="nv">$pidpath</span>      <span class="c1">##&lt;==将当前Shell进程号记录到pid文件里。</span>
sleep 300
</pre></div>
</div>
</div>
<div class="section" id="lnmp">
<h2>3.12.4. lnmp一键安装示例<a class="headerlink" href="#lnmp" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">## written by aming.</span>
<span class="c1">## 2015-06-24.</span>

<span class="c1">#######Begin########</span>
<span class="nb">echo</span> <span class="s2">&quot;It will install lamp or lnmp.&quot;</span>
sleep 1
<span class="c1">##check last command is OK or not.</span>
check_ok<span class="o">()</span> <span class="o">{</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> !<span class="o">=</span> <span class="m">0</span> <span class="o">]</span>
<span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;Error, Check the error log.&quot;</span>
    <span class="nb">exit</span> 1
<span class="k">fi</span>
<span class="o">}</span>
<span class="c1">##get the archive of the system,i686 or x86_64.</span>
<span class="nv">ar</span><span class="o">=</span><span class="sb">`</span>arch<span class="sb">`</span>
<span class="c1">##close seliux</span>
sed -i <span class="s1">&#39;s/SELINUX=enforcing/SELINUX=disabled/&#39;</span> /etc/selinux/config
<span class="nv">selinux_s</span><span class="o">=</span><span class="sb">`</span>getenforce<span class="sb">`</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$selinux_s</span> <span class="o">==</span> <span class="s2">&quot;enforcing&quot;</span> <span class="o">]</span>
<span class="k">then</span>
    setenforce 0
<span class="k">fi</span>
<span class="c1">##close iptables</span>
iptables-save &gt; /etc/sysconfig/iptables_<span class="sb">`</span>date +%s<span class="sb">`</span>
iptables -F
service iptables save

<span class="c1">##if the packge installed ,then omit.</span>
myum<span class="o">()</span> <span class="o">{</span>
<span class="k">if</span> ! rpm -qa<span class="p">|</span>grep -q <span class="s2">&quot;^</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="k">then</span>
    yum install -y <span class="nv">$1</span>
    check_ok
<span class="k">else</span>
    <span class="nb">echo</span> <span class="nv">$1</span> already installed.
<span class="k">fi</span>
<span class="o">}</span>

<span class="c1">## install some packges.</span>
<span class="k">for</span> p in gcc wget perl perl-devel libaio libaio-devel pcre-devel zlib-devel
<span class="k">do</span>
    myum <span class="nv">$p</span>
<span class="k">done</span>

<span class="c1">##install epel.</span>
<span class="k">if</span> rpm -qa epel-release &gt;/dev/null
<span class="k">then</span>
    rpm -e epel-release
<span class="k">fi</span>
<span class="k">if</span> ls /etc/yum.repos.d/epel-6.repo* &gt;/dev/null 2&gt;<span class="p">&amp;</span>1
<span class="k">then</span>
    rm -f /etc/yum.repos.d/epel-6.repo*
<span class="k">fi</span>
wget -P /etc/yum.repos.d/ http://mirrors.aliyun.com/repo/epel-6.repo


<span class="c1">##function of installing mysqld.</span>
install_mysqld<span class="o">()</span> <span class="o">{</span>
    <span class="k">case</span> <span class="nv">$mysql_v</span> in
        5.1<span class="o">)</span>
            <span class="nb">cd</span> /usr/local/src
            <span class="o">[</span> -f mysql-5.1.72-linux-<span class="nv">$ar</span>-glibc23.tar.gz <span class="o">]</span> <span class="o">||</span> wget http://mirrors.sohu.com/mysql/MySQL-5.1/mysql-5.1.72-linux-<span class="nv">$ar</span>-glibc23.tar.gz
            tar zxf mysql-5.1.72-linux-<span class="nv">$ar</span>-glibc23.tar.gz
            check_ok
            <span class="o">[</span> -d /usr/local/mysql <span class="o">]</span> <span class="o">&amp;&amp;</span> /bin/mv /usr/local/mysql /usr/local/mysql_<span class="sb">`</span>date +%s<span class="sb">`</span>
            mv mysql-5.1.72-linux-<span class="nv">$ar</span>-glibc23 /usr/local/mysql
            check_ok
            <span class="k">if</span> ! grep <span class="s1">&#39;^mysql:&#39;</span> /etc/passwd
            <span class="k">then</span>
                useradd -M mysql -s /sbin/nologin
                check_ok
            <span class="k">fi</span>
            myum compat-libstdc++-33
            <span class="o">[</span> -d /data/mysql <span class="o">]</span> <span class="o">&amp;&amp;</span> /bin/mv /data/mysql /data/mysql_<span class="sb">`</span>date +%s<span class="sb">`</span>
            mkdir -p /data/mysql
            chown -R mysql:mysql /data/mysql
            <span class="nb">cd</span> /usr/local/mysql
            ./scripts/mysql_install_db --user<span class="o">=</span>mysql --datadir<span class="o">=</span>/data/mysql
            check_ok
            /bin/cp support-files/my-huge.cnf /etc/my.cnf
            check_ok
            sed -i <span class="s1">&#39;/^\[mysqld\]$/a\datadir = /data/mysql&#39;</span> /etc/my.cnf
            /bin/cp support-files/mysql.server /etc/init.d/mysqld
            sed -i <span class="s1">&#39;s#^datadir=#datadir=/data/mysql#&#39;</span> /etc/init.d/mysqld
            chmod <span class="m">755</span> /etc/init.d/mysqld
            chkconfig --add mysqld
            chkconfig mysqld on
            service mysqld start
            check_ok
            <span class="nb">break</span>
            <span class="p">;;</span>
        5.6<span class="o">)</span>
            <span class="nb">cd</span> /usr/local/src
            <span class="o">[</span> -f mysql-5.6.26-linux-glibc2.5-<span class="nv">$ar</span>.tar.gz <span class="o">]</span> <span class="o">||</span> wget http://mirrors.sohu.com/mysql/MySQL-5.6/mysql-5.6.26-linux-glibc2.5-<span class="nv">$ar</span>.tar.gz
            tar zxf mysql-5.6.26-linux-glibc2.5-<span class="nv">$ar</span>.tar.gz
            check_ok
            <span class="o">[</span> -d /usr/local/mysql <span class="o">]</span> <span class="o">&amp;&amp;</span> /bin/mv /usr/local/mysql /usr/local/mysql_bak
            mv mysql-5.6.26-linux-glibc2.5-<span class="nv">$ar</span> /usr/local/mysql
            <span class="k">if</span> ! grep <span class="s1">&#39;^mysql:&#39;</span> /etc/passwd
            <span class="k">then</span>
                useradd -M mysql -s /sbin/nologin
            <span class="k">fi</span>
            myum compat-libstdc++-33
            <span class="o">[</span> -d /data/mysql <span class="o">]</span> <span class="o">&amp;&amp;</span> /bin/mv /data/mysql /data/mysql_bak
            mkdir -p /data/mysql
            chown -R mysql:mysql /data/mysql
            <span class="nb">cd</span> /usr/local/mysql
            ./scripts/mysql_install_db --user<span class="o">=</span>mysql --datadir<span class="o">=</span>/data/mysql
            check_ok
            /bin/cp support-files/my-default.cnf /etc/my.cnf
            check_ok
            sed -i <span class="s1">&#39;/^\[mysqld\]$/a\datadir = /data/mysql&#39;</span> /etc/my.cnf
            /bin/cp support-files/mysql.server /etc/init.d/mysqld
            sed -i <span class="s1">&#39;s#^datadir=#datadir=/data/mysql#&#39;</span> /etc/init.d/mysqld
            chmod <span class="m">755</span> /etc/init.d/mysqld
            chkconfig --add mysqld
            chkconfig mysqld on
            service mysqld start
            check_ok
            <span class="nb">break</span>
            <span class="p">;;</span>

         *<span class="o">)</span>
            <span class="nb">echo</span> <span class="s2">&quot;only 1(5.1) or 2(5.6)&quot;</span>
            <span class="nb">exit</span> 1
            <span class="p">;;</span>
    <span class="k">esac</span>
<span class="o">}</span>

<span class="c1">##function of install httpd.</span>
install_httpd<span class="o">()</span> <span class="o">{</span>
<span class="nb">echo</span> <span class="s2">&quot;Install apache version 2.2.&quot;</span>
<span class="nb">cd</span> /usr/local/src
<span class="o">[</span> -f httpd-2.2.16.tar.gz <span class="o">]</span> <span class="o">||</span> wget  http://syslab.comsenz.com/downloads/linux/httpd-2.2.16.tar.gz
tar zxf  httpd-2.2.16.tar.gz <span class="o">&amp;&amp;</span> <span class="nb">cd</span> httpd-2.2.16
check_ok
./configure <span class="se">\</span>
--prefix<span class="o">=</span>/usr/local/apache2 <span class="se">\</span>
--with-included-apr <span class="se">\</span>
--enable-so <span class="se">\</span>
--enable-deflate<span class="o">=</span>shared <span class="se">\</span>
--enable-expires<span class="o">=</span>shared <span class="se">\</span>
--enable-rewrite<span class="o">=</span>shared <span class="se">\</span>
--with-pcre
check_ok
make <span class="o">&amp;&amp;</span> make install
check_ok
<span class="o">}</span>

<span class="c1">##function of install lamp&#39;s php.</span>
install_php<span class="o">()</span> <span class="o">{</span>
<span class="nb">echo</span> -e <span class="s2">&quot;Install php.\nPlease chose the version of php.&quot;</span>
    <span class="k">case</span> <span class="nv">$php_v</span> in
        5.4<span class="o">)</span>
            <span class="nb">cd</span> /usr/local/src/
            <span class="o">[</span> -f php-5.4.45.tar.bz2 <span class="o">]</span> <span class="o">||</span> wget <span class="s1">&#39;http://cn2.php.net/get/php-5.4.45.tar.bz2/from/this/mirror&#39;</span> -O php-5.4.45.tar.bz2
            tar jxf php-5.4.45.tar.bz2 <span class="o">&amp;&amp;</span> <span class="nb">cd</span> php-5.4.45

            <span class="k">for</span> p in openssl-devel bzip2-devel <span class="se">\</span>
            libxml2-devel curl-devel libpng-devel <span class="se">\</span>
            libjpeg-devel freetype-devel libmcrypt-devel<span class="se">\</span>
            libtool-ltdl-devel perl-devel
            <span class="k">do</span>
                myum <span class="nv">$p</span>
            <span class="k">done</span>

            check_ok
            ./configure <span class="se">\</span>
            --prefix<span class="o">=</span>/usr/local/php <span class="se">\</span>
            --with-apxs2<span class="o">=</span>/usr/local/apache2/bin/apxs <span class="se">\</span>
            --with-config-file-path<span class="o">=</span>/usr/local/php/etc  <span class="se">\</span>
            --with-mysql<span class="o">=</span>/usr/local/mysql <span class="se">\</span>
            --with-libxml-dir <span class="se">\</span>
            --with-gd <span class="se">\</span>
            --with-jpeg-dir <span class="se">\</span>
            --with-png-dir <span class="se">\</span>
            --with-freetype-dir <span class="se">\</span>
            --with-iconv-dir <span class="se">\</span>
            --with-zlib-dir <span class="se">\</span>
            --with-bz2 <span class="se">\</span>
            --with-openssl <span class="se">\</span>
            --with-mcrypt <span class="se">\</span>
            --enable-soap <span class="se">\</span>
            --enable-gd-native-ttf <span class="se">\</span>
            --enable-mbstring <span class="se">\</span>
            --enable-sockets <span class="se">\</span>
            --enable-exif <span class="se">\</span>
            --disable-ipv6
            check_ok
            make <span class="o">&amp;&amp;</span> make install
            check_ok
            <span class="o">[</span> -f /usr/local/php/etc/php.ini <span class="o">]</span> <span class="o">||</span> /bin/cp php.ini-production  /usr/local/php/etc/php.ini
            <span class="nb">break</span>
            <span class="p">;;</span>
        5.6<span class="o">)</span>
            <span class="nb">cd</span> /usr/local/src/
            <span class="o">[</span> -f php-5.6.6.tar.gz <span class="o">]</span> <span class="o">||</span> wget http://mirrors.sohu.com/php/php-5.6.6.tar.gz
            tar zxf php-5.6.6.tar.gz <span class="o">&amp;&amp;</span>   <span class="nb">cd</span> php-5.6.6
            <span class="k">for</span> p in openssl-devel bzip2-devel <span class="se">\</span>
            libxml2-devel curl-devel libpng-devel <span class="se">\</span>
            libjpeg-devel freetype-devel libmcrypt-devel<span class="se">\</span>
            libtool-ltdl-devel perl-devel
            <span class="k">do</span>
                myum <span class="nv">$p</span>
            <span class="k">done</span>

            ./configure <span class="se">\</span>
            --prefix<span class="o">=</span>/usr/local/php <span class="se">\</span>
            --with-apxs2<span class="o">=</span>/usr/local/apache2/bin/apxs <span class="se">\</span>
            --with-config-file-path<span class="o">=</span>/usr/local/php/etc  <span class="se">\</span>
            --with-mysql<span class="o">=</span>/usr/local/mysql <span class="se">\</span>
            --with-libxml-dir <span class="se">\</span>
            --with-gd <span class="se">\</span>
            --with-jpeg-dir <span class="se">\</span>
            --with-png-dir <span class="se">\</span>
            --with-freetype-dir <span class="se">\</span>
            --with-iconv-dir <span class="se">\</span>
            --with-zlib-dir <span class="se">\</span>
            --with-bz2 <span class="se">\</span>
            --with-openssl <span class="se">\</span>
            --with-mcrypt <span class="se">\</span>
            --enable-soap <span class="se">\</span>
            --enable-gd-native-ttf <span class="se">\</span>
            --enable-mbstring <span class="se">\</span>
            --enable-sockets <span class="se">\</span>
            --enable-exif <span class="se">\</span>
            --disable-ipv6
            check_ok
            make <span class="o">&amp;&amp;</span> make install
            check_ok
            <span class="o">[</span> -f /usr/local/php/etc/php.ini <span class="o">]</span> <span class="o">||</span> /bin/cp php.ini-production  /usr/local/php/etc/php.ini
            <span class="nb">break</span>
            <span class="p">;;</span>

        *<span class="o">)</span>
            <span class="nb">echo</span> <span class="s2">&quot;only 1(5.4) or 2(5.6)&quot;</span>
            <span class="p">;;</span>
    <span class="k">esac</span>
<span class="o">}</span>

<span class="c1">##function of apache and php configue.</span>
join_apa_php<span class="o">()</span> <span class="o">{</span>
sed -i <span class="s1">&#39;/AddType .*.gz .tgz$/a\AddType application\/x-httpd-php .php&#39;</span> /usr/local/apache2/conf/httpd.conf
check_ok
sed -i <span class="s1">&#39;s/DirectoryIndex index.html/DirectoryIndex index.php index.html index.htm/&#39;</span> /usr/local/apache2/conf/httpd.conf
check_ok
cat &gt; /usr/local/apache2/htdocs/index.php <span class="s">&lt;&lt;EOF</span>
<span class="s">&lt;?php</span>
<span class="s">   phpinfo();</span>
<span class="s">?&gt;</span>
<span class="s">EOF</span>

<span class="k">if</span> /usr/local/php/bin/php -i <span class="p">|</span>grep -iq <span class="s1">&#39;date.timezone =&gt; no value&#39;</span>
<span class="k">then</span>
    sed -i <span class="s1">&#39;/;date.timezone =$/a\date.timezone = &quot;Asia\/Chongqing&quot;&#39;</span>  /usr/local/php/etc/php.ini
<span class="k">fi</span>

/usr/local/apache2/bin/apachectl restart
check_ok
<span class="o">}</span>

<span class="c1">##function of check service is running or not, example nginx, httpd, php-fpm.</span>
check_service<span class="o">()</span> <span class="o">{</span>
<span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span> <span class="o">==</span> <span class="s2">&quot;phpfpm&quot;</span> <span class="o">]</span>
<span class="k">then</span>
    <span class="nv">s</span><span class="o">=</span><span class="s2">&quot;php-fpm&quot;</span>
<span class="k">else</span>
    <span class="nv">s</span><span class="o">=</span><span class="nv">$1</span>
<span class="k">fi</span>
<span class="nv">n</span><span class="o">=</span><span class="sb">`</span>ps aux <span class="p">|</span>grep <span class="s2">&quot;</span><span class="nv">$s</span><span class="s2">&quot;</span><span class="p">|</span>wc -l<span class="sb">`</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$n</span> -gt <span class="m">1</span> <span class="o">]</span>
<span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2"> service is already started.&quot;</span>
<span class="k">else</span>
    <span class="k">if</span> <span class="o">[</span> -f /etc/init.d/<span class="nv">$1</span> <span class="o">]</span>
    <span class="k">then</span>
        /etc/init.d/<span class="nv">$1</span> start
        check_ok
    <span class="k">else</span>
        install_<span class="nv">$1</span>
    <span class="k">fi</span>
<span class="k">fi</span>
<span class="o">}</span>

<span class="c1">##function of install lamp</span>
lamp<span class="o">()</span> <span class="o">{</span>
check_service mysqld
check_service httpd
install_php
join_apa_php
<span class="nb">echo</span> <span class="s2">&quot;LAMP done，Please use &#39;http://your ip/index.php&#39; to access.&quot;</span>
<span class="o">}</span>

<span class="c1">##function of install nginx</span>
install_nginx<span class="o">()</span> <span class="o">{</span>
<span class="nb">cd</span> /usr/local/src
<span class="o">[</span> -f nginx-1.8.0.tar.gz <span class="o">]</span> <span class="o">||</span> wget http://nginx.org/download/nginx-1.8.0.tar.gz
tar zxf nginx-1.8.0.tar.gz
<span class="nb">cd</span> nginx-1.8.0
myum pcre-devel
./configure --prefix<span class="o">=</span>/usr/local/nginx
check_ok
make <span class="o">&amp;&amp;</span> make install
check_ok
<span class="k">if</span> <span class="o">[</span> -f /etc/init.d/nginx <span class="o">]</span>
<span class="k">then</span>
    /bin/mv /etc/init.d/nginx  /etc/init.d/nginx_<span class="sb">`</span>date +%s<span class="sb">`</span>
<span class="k">fi</span>
curl http://www.apelearn.com/study_v2/.nginx_init  -o /etc/init.d/nginx
check_ok
chmod <span class="m">755</span> /etc/init.d/nginx
chkconfig --add nginx
chkconfig nginx on
curl http://www.apelearn.com/study_v2/.nginx_conf -o /usr/local/nginx/conf/nginx.conf
check_ok
service nginx start
check_ok
<span class="nb">echo</span> -e <span class="s2">&quot;&lt;?php\n    phpinfo();\n?&gt;&quot;</span> &gt; /usr/local/nginx/html/index.php
check_ok
<span class="o">}</span>

<span class="c1">##function of install php-fpm</span>
install_phpfpm<span class="o">()</span> <span class="o">{</span>
<span class="nb">echo</span> -e <span class="s2">&quot;Install php.\nPlease chose the version of php.&quot;</span>
    <span class="k">case</span> <span class="nv">$php_v</span> in
        5.4<span class="o">)</span>
            <span class="nb">cd</span> /usr/local/src/
            <span class="o">[</span> -f php-5.4.45.tar.bz2 <span class="o">]</span> <span class="o">||</span> wget <span class="s1">&#39;http://cn2.php.net/get/php-5.4.45.tar.bz2/from/this/mirror&#39;</span> -O php-5.4.45.tar.bz2
            tar jxf php-5.4.45.tar.bz2 <span class="o">&amp;&amp;</span> <span class="nb">cd</span> php-5.4.45
            <span class="k">for</span> p in  openssl-devel bzip2-devel <span class="se">\</span>
            libxml2-devel curl-devel libpng-devel <span class="se">\</span>
            libjpeg-devel freetype-devel libmcrypt-devel<span class="se">\</span>
            libtool-ltdl-devel perl-devel
            <span class="k">do</span>
                myum <span class="nv">$p</span>
            <span class="k">done</span>
            <span class="k">if</span> ! grep -q <span class="s1">&#39;^php-fpm:&#39;</span> /etc/passwd
            <span class="k">then</span>
                useradd -M -s /sbin/nologin php-fpm
                check_ok
            <span class="k">fi</span>
            ./configure <span class="se">\</span>
            --prefix<span class="o">=</span>/usr/local/php-fpm <span class="se">\</span>
            --with-config-file-path<span class="o">=</span>/usr/local/php-fpm/etc <span class="se">\</span>
            --enable-fpm <span class="se">\</span>
            --with-fpm-user<span class="o">=</span>php-fpm <span class="se">\</span>
            --with-fpm-group<span class="o">=</span>php-fpm <span class="se">\</span>
            --with-mysql<span class="o">=</span>/usr/local/mysql <span class="se">\</span>
            --with-mysql-sock<span class="o">=</span>/tmp/mysql.sock <span class="se">\</span>
            --with-libxml-dir <span class="se">\</span>
            --with-gd <span class="se">\</span>
            --with-jpeg-dir <span class="se">\</span>
            --with-png-dir <span class="se">\</span>
            --with-freetype-dir <span class="se">\</span>
            --with-iconv-dir <span class="se">\</span>
            --with-zlib-dir <span class="se">\</span>
            --with-mcrypt <span class="se">\</span>
            --enable-soap <span class="se">\</span>
            --enable-gd-native-ttf <span class="se">\</span>
            --enable-ftp <span class="se">\</span>
            --enable-mbstring <span class="se">\</span>
            --enable-exif <span class="se">\</span>
            --enable-zend-multibyte <span class="se">\</span>
            --disable-ipv6 <span class="se">\</span>
            --with-pear <span class="se">\</span>
            --with-curl <span class="se">\</span>
            --with-openssl
            check_ok
            make <span class="o">&amp;&amp;</span> make install
            check_ok
            <span class="o">[</span> -f /usr/local/php-fpm/etc/php.ini <span class="o">]</span> <span class="o">||</span> /bin/cp php.ini-production  /usr/local/php-fpm/etc/php.ini
            <span class="k">if</span> /usr/local/php-fpm/bin/php -i <span class="p">|</span>grep -iq <span class="s1">&#39;date.timezone =&gt; no value&#39;</span>
            <span class="k">then</span>
                sed -i <span class="s1">&#39;/;date.timezone =$/a\date.timezone = &quot;Asia\/Chongqing&quot;&#39;</span>  /usr/local/php-fpm/etc/php.ini
                check_ok
            <span class="k">fi</span>
            <span class="o">[</span> -f /usr/local/php-fpm/etc/php-fpm.conf <span class="o">]</span> <span class="o">||</span> curl http://www.apelearn.com/study_v2/.phpfpm_conf -o /usr/local/php-fpm/etc/php-fpm.conf
            <span class="o">[</span> -f /etc/init.d/phpfpm <span class="o">]</span> <span class="o">||</span> /bin/cp sapi/fpm/init.d.php-fpm /etc/init.d/phpfpm
            chmod <span class="m">755</span> /etc/init.d/phpfpm
            chkconfig phpfpm on
            service phpfpm start
            check_ok
            <span class="nb">break</span>
            <span class="p">;;</span>
        5.6<span class="o">)</span>
            <span class="nb">cd</span> /usr/local/src/
            <span class="o">[</span> -f php-5.6.6.tar.gz <span class="o">]</span> <span class="o">||</span> wget http://mirrors.sohu.com/php/php-5.6.6.tar.gz

            tar zxf php-5.6.6.tar.gz <span class="o">&amp;&amp;</span>   <span class="nb">cd</span> php-5.6.6
            <span class="k">for</span> p in  openssl-devel bzip2-devel <span class="se">\</span>
            libxml2-devel curl-devel libpng-devel <span class="se">\</span>
            libjpeg-devel freetype-devel libmcrypt-devel<span class="se">\</span>
            libtool-ltdl-devel perl-devel
            <span class="k">do</span>
                myum <span class="nv">$p</span>
            <span class="k">done</span>

            <span class="k">if</span> ! grep -q <span class="s1">&#39;^php-fpm:&#39;</span> /etc/passwd
            <span class="k">then</span>
                useradd -M -s /sbin/nologin php-fpm
            <span class="k">fi</span>
            check_ok
            ./configure <span class="se">\</span>
            --prefix<span class="o">=</span>/usr/local/php-fpm <span class="se">\</span>
            --with-config-file-path<span class="o">=</span>/usr/local/php-fpm/etc <span class="se">\</span>
            --enable-fpm <span class="se">\</span>
            --with-fpm-user<span class="o">=</span>php-fpm <span class="se">\</span>
            --with-fpm-group<span class="o">=</span>php-fpm <span class="se">\</span>
            --with-mysql<span class="o">=</span>/usr/local/mysql <span class="se">\</span>
            --with-mysql-sock<span class="o">=</span>/tmp/mysql.sock <span class="se">\</span>
            --with-libxml-dir <span class="se">\</span>
            --with-gd <span class="se">\</span>
            --with-jpeg-dir <span class="se">\</span>
            --with-png-dir <span class="se">\</span>
            --with-freetype-dir <span class="se">\</span>
            --with-iconv-dir <span class="se">\</span>
            --with-zlib-dir <span class="se">\</span>
            --with-mcrypt <span class="se">\</span>
            --enable-soap <span class="se">\</span>
            --enable-gd-native-ttf <span class="se">\</span>
            --enable-ftp <span class="se">\</span>
            --enable-mbstring <span class="se">\</span>
            --enable-exif <span class="se">\</span>
            --disable-ipv6 <span class="se">\</span>
            --with-pear <span class="se">\</span>
            --with-curl <span class="se">\</span>
            --with-openssl
            check_ok
            make <span class="o">&amp;&amp;</span> make install
            check_ok
            <span class="o">[</span> -f /usr/local/php-fpm/etc/php.ini <span class="o">]</span> <span class="o">||</span> /bin/cp php.ini-production  /usr/local/php-fpm/etc/php.ini
            <span class="k">if</span> /usr/local/php-fpm/bin/php -i <span class="p">|</span>grep -iq <span class="s1">&#39;date.timezone =&gt; no value&#39;</span>
            <span class="k">then</span>
                sed -i <span class="s1">&#39;/;date.timezone =$/a\date.timezone = &quot;Asia\/Chongqing&quot;&#39;</span>  /usr/local/php-fpm/etc/php.ini
                check_ok
            <span class="k">fi</span>
            <span class="o">[</span> -f /usr/local/php-fpm/etc/php-fpm.conf <span class="o">]</span> <span class="o">||</span> curl http://www.apelearn.com/study_v2/.phpfpm_conf -o /usr/local/php-fpm/etc/php-fpm.conf
            check_ok
            <span class="o">[</span> -f /etc/init.d/phpfpm <span class="o">]</span> <span class="o">||</span> /bin/cp sapi/fpm/init.d.php-fpm /etc/init.d/phpfpm
            chmod <span class="m">755</span> /etc/init.d/phpfpm
            chkconfig phpfpm on
            service phpfpm start
            check_ok
            <span class="nb">break</span>
            <span class="p">;;</span>

        *<span class="o">)</span>
            <span class="nb">echo</span> <span class="s1">&#39;only 1(5.4) or 2(5.6)&#39;</span>
            <span class="p">;;</span>
    <span class="k">esac</span>
<span class="o">}</span>

<span class="c1">##function of install lnmp</span>
lnmp<span class="o">()</span> <span class="o">{</span>
check_service mysqld
check_service nginx
check_service phpfpm
<span class="nb">echo</span> <span class="s2">&quot;The lnmp done, Please use &#39;http://your ip/index.php&#39; to access.&quot;</span>
<span class="o">}</span>

<span class="nb">read</span> -p <span class="s2">&quot;Please chose which type env you install, (lamp|lnmp)? &quot;</span> t
<span class="k">case</span> <span class="nv">$t</span> in
    lamp<span class="o">)</span>
        <span class="nb">read</span> -p <span class="s2">&quot;Please chose the version of mysql. (5.1|5.6)&quot;</span> mysql_v
        <span class="nb">read</span> -p <span class="s2">&quot;Please chose the version of php. (5.4|5.6)&quot;</span> php_v
        lamp
        <span class="p">;;</span>
    lnmp<span class="o">)</span>
        <span class="nb">read</span> -p <span class="s2">&quot;Please chose the version of mysql. (5.1|5.6)&quot;</span> mysql_v
        <span class="nb">read</span> -p <span class="s2">&quot;Please chose the version of php. (5.4|5.6)&quot;</span> php_v
        lnmp
        <span class="p">;;</span>
    *<span class="o">)</span>
        <span class="nb">echo</span> <span class="s2">&quot;Only &#39;lamp&#39; or &#39;lnmp&#39; your can input.&quot;</span>
        <span class="p">;;</span>
<span class="k">esac</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h2>3.12.5. 服务器初始化脚本示例<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/bin:/sbin:/usr/sbin

<span class="c1">#root check</span>
<span class="k">if</span> <span class="nb">test</span> <span class="s2">&quot;</span><span class="nv">$UID</span><span class="s2">&quot;</span> !<span class="o">=</span> <span class="s2">&quot;0&quot;</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;Please run this scripts by root&quot;</span>
    <span class="nb">exit</span> 1
<span class="k">fi</span>

<span class="c1">#define cmd var</span>
<span class="nv">SERVICE</span><span class="o">=</span><span class="sb">`</span>which service<span class="sb">`</span>
<span class="nv">CHKCONIFIG</span><span class="o">=</span><span class="sb">`</span>which chkconfig<span class="sb">`</span>

mod_yum<span class="o">(){</span>
    <span class="k">if</span> <span class="nb">test</span> -e /etc/yum.repos.d/CentOS-Base.repo<span class="p">;</span> <span class="k">then</span>
        cp /etc/yum.repos.d/CentOS-Base.repo<span class="o">{</span>,_bak<span class="o">}</span>
        wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo
    <span class="k">fi</span>
<span class="o">}</span>

close_selinux<span class="o">(){</span>
    <span class="c1">#close_selinux</span>
    sed -i <span class="s1">&#39;s/SELINUX=enforcing/SELINUX=disabled/&#39;</span> /etc/selinux/config

    <span class="c1">##grep SELINUX=disabled /etc/selinux/config</span>
    setenforce <span class="m">0</span> <span class="p">&amp;</span>&gt;/dev/null
<span class="o">}</span>

close_iptables<span class="o">(){</span>
    /etc/init.d/iptables stop
    /etc/init.d/iptables stop
    chkconfi iptables off
<span class="o">}</span>

least_service<span class="o">(){</span>

chkconfig<span class="p">|</span>awk <span class="s1">&#39;{print &quot;chkconfig&quot;,$1,&quot;off&quot;}&#39;</span><span class="p">|</span>bash
chkconfig<span class="p">|</span>egrep <span class="s2">&quot;crond|sshd|network|rsyslog|sysstat&quot;</span><span class="p">|</span>awk <span class="s1">&#39;{print &quot;chkconfig&quot;,$1,&quot;on&quot;}&#39;</span><span class="p">|</span>bash
<span class="c1">#export LANG=en     </span>
<span class="c1"># chkconfig --list|grep 3:on</span>
<span class="o">}</span>

time_sync<span class="o">(){</span>
    <span class="nv">cron</span><span class="o">=</span>/var/spool/cron/root
    <span class="k">if</span> <span class="o">[</span> <span class="sb">`</span>grep -w <span class="s2">&quot;ntpdate&quot;</span> <span class="nv">$cron</span><span class="p">|</span>wc -l<span class="sb">`</span> -lt <span class="m">1</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
        <span class="nb">echo</span> <span class="s1">&#39;#time sync by oldboy at 2010-2-1&#39;</span> &gt;&gt;<span class="nv">$cron</span>
        <span class="nb">echo</span> <span class="s1">&#39;*/5 * * * * /usr/sbin/ntpdate time.nist.gov &gt;/dev/null 2&gt;&amp;1&#39;</span> &gt;&gt;<span class="nv">$cron</span>
        crontab -l
    <span class="k">fi</span>

<span class="o">}</span>
com_line_set<span class="o">(){</span>
<span class="c1">#7.command set.     </span>
<span class="k">if</span> <span class="o">[</span> <span class="sb">`</span>egrep <span class="s2">&quot;TMOUT|HISTSIZE|ISTFILESIZE&quot;</span> /etc/profile<span class="p">|</span>wc -l<span class="sb">`</span> -lt <span class="m">3</span> <span class="o">]</span>
<span class="k">then</span>
    <span class="nb">echo</span> <span class="s1">&#39;export TMOUT=300&#39;</span> &gt;&gt;/etc/profile
    <span class="nb">echo</span> <span class="s1">&#39;export HISTSIZE=5&#39;</span> &gt;&gt;/etc/profile
    <span class="nb">echo</span> <span class="s1">&#39;export HISTFILESIZE=5&#39;</span> &gt;&gt;/etc/profile
    . /etc/profile
<span class="k">fi</span>
<span class="o">}</span>

open_file_set<span class="o">(){</span>
<span class="c1"># increase open file.</span>
    <span class="k">if</span> <span class="o">[</span><span class="sb">`</span>grep <span class="m">65535</span> /etc/security/limits.conf<span class="p">|</span>wc -l -lt 1<span class="sb">`</span><span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s1">&#39;*           -      nofile        65535 &#39;</span> &gt;&gt;/etc/security/limits.conf
    tail -1 /etc/security/limits.conf
    <span class="k">fi</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h2>3.12.6. 服务启动脚本示例<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
. /etc/init.d/functions

usage<span class="o">(){</span>
    <span class="nb">echo</span> $<span class="s2">&quot;usage:</span><span class="nv">$0</span><span class="s2"> {start|stop|restart}&quot;</span>
    <span class="nb">exit</span>
<span class="o">}</span>

start<span class="o">(){</span>
    rsync --daemon
    sleep 1
    <span class="k">if</span> <span class="nb">test</span> <span class="sb">``</span>netstat -lntup<span class="p">|</span>grep rsync<span class="p">|</span>wc -l<span class="sb">`</span> -ge 1<span class="sb">`</span><span class="p">;</span> <span class="k">then</span>
        action <span class="s2">&quot;rsync is started.&quot;</span> /bin/true
    <span class="k">else</span>
        action <span class="s2">&quot;rsyncd is started.&quot;</span> /bin/false
    <span class="k">fi</span>
<span class="o">}</span>
stop<span class="o">(){</span>
    killall rsync <span class="p">&amp;</span>&gt;/dev/null
    sleep 2
    <span class="k">if</span> <span class="nb">test</span> <span class="sb">`</span>netstat -lntup<span class="p">|</span>grep rsync<span class="p">|</span>wc -l<span class="sb">`</span> -eq 0<span class="p">;</span> <span class="k">then</span>
        action <span class="s2">&quot;rsyncd is stopped. &quot;</span> /bin/true
    <span class="k">else</span>
        action <span class="s2">&quot;rsyncd is started.&quot;</span> /bin/false
    <span class="k">fi</span>
<span class="o">}</span>

main <span class="o">(){</span>
    <span class="k">if</span>  <span class="o">[</span> <span class="nv">$#</span> -ne <span class="m">1</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
        usage
    <span class="k">elif</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s2">&quot;start&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
        start
    <span class="k">elif</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s2">&quot;stop&quot;</span> <span class="o">]</span><span class="p">;</span><span class="k">then</span>
        stop
    <span class="k">elif</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s2">&quot;restart&quot;</span> <span class="o">]</span><span class="p">;</span><span class="k">then</span>
        stop
        sleep 1
        start
    <span class="k">else</span>
        usage
    <span class="k">fi</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="mysql">
<h2>3.12.7. 监控mysql数据库示例<a class="headerlink" href="#mysql" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="c1">#方法1</span>
<span class="k">if</span> <span class="o">[</span> <span class="sb">`</span>lsof -i tcp:3306<span class="p">|</span>wc -l<span class="sb">`</span> -gt <span class="m">0</span> <span class="o">]</span> <span class="c1">#&lt;==过滤端口转成数字，很优秀的取值判断方法。   </span>
<span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;MySQL is Running.&quot;</span>
<span class="k">else</span>
    <span class="nb">echo</span> <span class="s2">&quot;MySQL is Stopped.&quot;</span>
    /etc/init.d/mysqld start
<span class="k">fi</span>

<span class="c1">#方法2</span>

<span class="k">if</span> <span class="o">[</span> <span class="sb">`</span>ps aux<span class="p">|</span> grep -v grep <span class="p">|</span> grep mysql <span class="p">|</span>wc - l<span class="sb">`</span>  -gt 0<span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span>  <span class="s2">&quot;Mysql is Running&quot;</span>
<span class="k">else</span>
    <span class="nb">echo</span> <span class="s2">&quot;Mysql is Stopped. &quot;</span>
    /etc/init.d/mysqld start
<span class="k">fi</span>
</pre></div>
</div>
</div>
<div class="section" id="tar-var-log">
<h2>3.12.8. 每周五使用tar命令备份/var/log下的所有日志文件<a class="headerlink" href="#tar-var-log" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span>    <span class="c1">#!/usr/bin/env bash</span>
    <span class="c1">#usage:每周五使用tar命令备份/var/log下的所有日志文件</span>
    <span class="c1">#scripts_name:logbak.sh</span>
    
    <span class="c1">#编写计划任务，执行备份脚本</span>
    <span class="c1"># crontab -e</span>
    <span class="c1">#00 03 * * 5 /root/logbak.sh</span>
    tar -zcf log-<span class="sb">`</span>date +%Y%m%d<span class="sb">`</span>.tar.gz /var/log
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h2>3.12.9. 一些常用的函数<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1">#判断是否是false</span>
is_false<span class="o">()</span> <span class="o">{</span>
    <span class="k">case</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span> in
    <span class="o">[</span>fF<span class="o">]</span> <span class="p">|</span> <span class="o">[</span>nN<span class="o">]</span> <span class="p">|</span> <span class="o">[</span>nN<span class="o">][</span>oO<span class="o">]</span> <span class="p">|</span> <span class="o">[</span>fF<span class="o">][</span>aA<span class="o">][</span>lL<span class="o">][</span>sS<span class="o">][</span>eE<span class="o">]</span> <span class="p">|</span> 0<span class="o">)</span>
        <span class="k">return</span> 0
        <span class="p">;;</span>
    <span class="k">esac</span>
    <span class="k">return</span> 1
<span class="o">}</span>

<span class="c1">#判断进程是否运行</span>
is_running<span class="o">()</span>
<span class="o">{</span>
    <span class="k">if</span> <span class="o">[</span> -f <span class="nv">$1</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
        <span class="nb">read</span> pid &lt; <span class="nv">$1</span>
        <span class="k">if</span> <span class="o">[</span> -d <span class="s2">&quot;/proc/</span><span class="nv">$pid</span><span class="s2">&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span> 
            <span class="k">return</span> 0
        <span class="k">fi</span>
    <span class="k">fi</span>
    <span class="k">return</span> -1
<span class="o">}</span>

<span class="c1">#安装epel源</span>
<span class="k">function</span> _install_epel <span class="o">{</span>
    <span class="c1"># NOTE: We always remove and install latest -- some environments</span>
    <span class="c1"># use snapshot images, and if EPEL version updates they break</span>
    <span class="c1"># unless we update them to latest version.</span>
    <span class="k">if</span> sudo yum repolist enabled epel <span class="p">|</span> grep -q <span class="s1">&#39;epel&#39;</span><span class="p">;</span> <span class="k">then</span>
        uninstall_package epel-release <span class="o">||</span> <span class="nb">true</span>
    <span class="k">fi</span>

    <span class="c1"># This trick installs the latest epel-release from a bootstrap</span>
    <span class="c1"># repo, then removes itself (as epel-release installed the</span>
    <span class="c1"># &quot;real&quot; repo).</span>
    <span class="c1">#</span>
    <span class="c1"># You would think that rather than this, you could use</span>
    <span class="c1"># $releasever directly in .repo file we create below.  However</span>
    <span class="c1"># RHEL gives a $releasever of &quot;6Server&quot; which breaks the path;</span>
    <span class="c1"># see https://bugzilla.redhat.com/show_bug.cgi?id=1150759</span>
    cat <span class="s">&lt;&lt;EOF | sudo tee /etc/yum.repos.d/epel-bootstrap.repo</span>
<span class="s">[epel-bootstrap]</span>
<span class="s">name=Bootstrap EPEL</span>
<span class="s">mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=epel-7&amp;arch=\$basearch</span>
<span class="s">failovermethod=priority</span>
<span class="s">enabled=0</span>
<span class="s">gpgcheck=0</span>
<span class="s">EOF</span>
    <span class="c1"># Enable a bootstrap repo.  It is removed after finishing</span>
    <span class="c1"># the epel-release installation.</span>
    is_package_installed yum-utils <span class="o">||</span> install_package yum-utils
    sudo yum-config-manager --enable epel-bootstrap
    yum_install epel-release <span class="o">||</span> <span class="se">\</span>
        die <span class="nv">$LINENO</span> <span class="s2">&quot;Error installing EPEL repo, cannot continue&quot;</span>
    sudo rm -f /etc/yum.repos.d/epel-bootstrap.repo
<span class="o">}</span>

<span class="c1">#记录日志的function</span>
<span class="k">function</span> fnLogInfo<span class="o">()</span>
<span class="o">{</span>
        <span class="nb">local</span> <span class="nv">infomsg</span><span class="o">=</span><span class="nv">$1</span>
        <span class="nb">echo</span> <span class="si">${</span><span class="nv">infomsg</span><span class="si">}</span>
        <span class="nb">echo</span> <span class="sb">`</span>date <span class="s2">&quot;</span><span class="si">${</span><span class="nv">data_format</span><span class="si">}</span><span class="s2">&quot;</span><span class="sb">`</span> <span class="s2">&quot;Info:</span><span class="si">${</span><span class="nv">infomsg</span><span class="si">}</span><span class="s2">&quot;</span> &gt;&gt; <span class="si">${</span><span class="nv">log_file</span><span class="si">}</span>
<span class="o">}</span>


<span class="c1">#备份文件的function</span>
fnBackupBeforeModify<span class="o">()</span>
<span class="o">{</span>
        <span class="nb">local</span> <span class="nv">file</span><span class="o">=</span><span class="nv">$1</span>
        <span class="nb">local</span> <span class="nv">backupFile</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">file</span><span class="si">}</span><span class="s2">.bak&quot;</span>

        fnLogInfo <span class="s2">&quot;Start to backup file </span><span class="nv">$file</span><span class="s2">&quot;</span>

        cp <span class="si">${</span><span class="nv">file</span><span class="si">}</span> -p <span class="si">${</span><span class="nv">backupFile</span><span class="si">}</span>

        fnLogInfo <span class="s2">&quot;End to backup file </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># 1. change the network config as DHCP</span>
<span class="c1"># 2. delete the 70-persistent-net.rules file</span>
fnModifyNetworkConfig<span class="o">()</span>
<span class="o">{</span>
        fnLogInfo <span class="s2">&quot;----------------------------------------&quot;</span>
        fnLogInfo <span class="s2">&quot;Start to modify the network configuration&quot;</span>

        <span class="nb">local</span> <span class="nv">files</span><span class="o">=</span><span class="s1">&#39;&#39;</span>

        <span class="c1">#1. change the network config as DHCP</span>
        <span class="k">case</span> <span class="nv">$os_type</span> in

        <span class="c1">#/etc/sysconfig/network-scripts</span>
        <span class="s2">&quot;redhat&quot;</span><span class="o">)</span>
        <span class="nv">files</span><span class="o">=</span><span class="s2">&quot;`ls /etc/sysconfig/network-scripts/ifcfg-eth* |grep -v .bak`&quot;</span>
        <span class="nv">files</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">files</span><span class="si">}</span><span class="s2"> `ls /etc/sysconfig/network-scripts/ifcfg-ens* |grep -v .bak`&quot;</span>
        <span class="k">for</span> file in <span class="nv">$files</span>
        <span class="k">do</span>
            fnLogInfo <span class="s2">&quot;Start to modify the network configuration: </span><span class="nv">$file</span><span class="s2">&quot;</span>
            <span class="c1">#backup  the file</span>
            fnBackupBeforeModify <span class="nv">$file</span>
            <span class="c1">#modify the file</span>
            sed -i <span class="s1">&#39;/PERSISTENT_DHCLIENT/d&#39;</span> <span class="nv">$file</span>
            sed -i <span class="s1">&#39;$a\PERSISTENT_DHCLIENT=yes&#39;</span> <span class="nv">$file</span>
            fnLogInfo <span class="s2">&quot;End to modify the network configuration: </span><span class="nv">$file</span><span class="s2">&quot;</span>
        <span class="k">done</span>
        <span class="p">;;</span>

        <span class="c1">#/etc/sysconfig/network/dhcp</span>
        <span class="s2">&quot;suse&quot;</span><span class="o">)</span>
        <span class="nv">file</span><span class="o">=</span><span class="s1">&#39;/etc/sysconfig/network/dhcp&#39;</span>
		
		<span class="c1">#first backup file </span>
        fnBackupBeforeModify <span class="nv">$file</span>
		
        sed -i <span class="s2">&quot;s/DHCLIENT_USE_LAST_LEASE=yes\|DHCLIENT_USE_LAST_LEASE=&#39;yes&#39;\|DHCLIENT_USE_LAST_LEASE=\&quot;yes\&quot;/DHCLIENT_USE_LAST_LEASE=\&quot;no\&quot;/g&quot;</span> <span class="nv">$file</span>
        <span class="p">;;</span>

        <span class="c1">#/etc/network/interfaces</span>
        <span class="s2">&quot;debian&quot;</span> <span class="p">|</span> <span class="s2">&quot;ubuntu&quot;</span><span class="o">)</span>
        <span class="nv">file</span><span class="o">=</span><span class="s1">&#39;/etc/network/interfaces&#39;</span>
		
		<span class="c1">#backup the file </span>
        fnBackupBeforeModify <span class="nv">$file</span>

        sed -i <span class="s2">&quot;s/static\| manual/ dhcp/g&quot;</span> <span class="nv">$file</span>
        sed -i <span class="s2">&quot;s/address /#address /g&quot;</span> <span class="nv">$file</span>
        sed -i <span class="s2">&quot;s/netmask /#netmask /g&quot;</span> <span class="nv">$file</span>
        sed -i <span class="s2">&quot;s/gateway /#gateway /g&quot;</span> <span class="nv">$file</span>

        <span class="p">;;</span>

        *<span class="o">)</span>
        fnLogInfo <span class="s2">&quot;Other Linux, network configuration cannot be modified.&quot;</span>
        <span class="p">;;</span>
        <span class="k">esac</span>

        <span class="c1">#2. delete the 70-persistent-net.rules file</span>
        rm -rf /etc/udev/rules.d/70-persistent-net.rules

        fnLogInfo <span class="s2">&quot;Delete 70-persistent-net.rules file, resut: </span><span class="nv">$?</span><span class="s2">&quot;</span>

        fnLogInfo <span class="s2">&quot;End to modify the network configuration&quot;</span>
<span class="o">}</span>
<span class="c1">#check OS的function</span>
fnGetOSType<span class="o">()</span>
<span class="o">{</span>
        fnLogInfo <span class="s2">&quot;---------------------------&quot;</span>
        fnLogInfo <span class="s2">&quot;Start to get the os type&quot;</span>

        <span class="nb">local</span> <span class="nv">version</span><span class="o">=</span><span class="s2">&quot;/proc/version&quot;</span>
        <span class="k">if</span> ! <span class="o">[</span> -e <span class="s2">&quot;</span><span class="si">${</span><span class="nv">version</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">]</span><span class="p">;</span><span class="k">then</span>
            <span class="k">return</span> 1
        <span class="k">elif</span> <span class="o">[</span> -n <span class="s2">&quot;</span><span class="k">$(</span>grep -i <span class="s1">&#39;suse&#39;</span> <span class="si">${</span><span class="nv">version</span><span class="si">}</span><span class="k">)</span><span class="s2">&quot;</span> <span class="o">]</span><span class="p">;</span><span class="k">then</span>
            <span class="nv">os_type</span><span class="o">=</span><span class="s1">&#39;suse&#39;</span>
        <span class="k">elif</span> <span class="o">[</span> -n <span class="s2">&quot;</span><span class="k">$(</span>grep -i <span class="s1">&#39;ubuntu&#39;</span> <span class="si">${</span><span class="nv">version</span><span class="si">}</span><span class="k">)</span><span class="s2">&quot;</span> <span class="o">]</span><span class="p">;</span><span class="k">then</span>
            <span class="nv">os_type</span><span class="o">=</span><span class="s1">&#39;ubuntu&#39;</span>
        <span class="k">elif</span> <span class="o">[</span> -n <span class="s2">&quot;</span><span class="k">$(</span>grep -i <span class="s1">&#39;Red Hat&#39;</span> <span class="si">${</span><span class="nv">version</span><span class="si">}</span><span class="k">)</span><span class="s2">&quot;</span> <span class="o">]</span><span class="p">;</span><span class="k">then</span>
            <span class="nv">os_type</span><span class="o">=</span><span class="s1">&#39;redhat&#39;</span>
                <span class="k">elif</span> <span class="o">[</span> -n <span class="s2">&quot;</span><span class="k">$(</span>grep -i <span class="s1">&#39;debian&#39;</span> <span class="si">${</span><span class="nv">version</span><span class="si">}</span><span class="k">)</span><span class="s2">&quot;</span> <span class="o">]</span><span class="p">;</span><span class="k">then</span>
            <span class="nv">os_type</span><span class="o">=</span><span class="s1">&#39;debian&#39;</span>
        <span class="k">fi</span>


        fnLogInfo <span class="s2">&quot;End to get the os type: </span><span class="nv">$os_type</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1">#输入选择Yes和No函数</span>
YES_NO_choice<span class="o">(){</span>
<span class="nb">read</span> -t <span class="m">10</span> -p <span class="s2">&quot;Please input you commit ,wait 5.....to exit: &quot;</span> input

<span class="k">case</span> <span class="nv">$input</span> in
    <span class="o">[</span>yY<span class="o">]</span><span class="p">|</span><span class="o">[</span>yY<span class="o">][</span>eE<span class="o">][</span>sS<span class="o">]</span> <span class="o">)</span>
        <span class="nb">echo</span> <span class="s2">&quot;YES!!!!!&quot;</span>
        <span class="p">;;</span>
    <span class="o">[</span>nN<span class="o">]</span><span class="p">|</span><span class="o">[</span>nN<span class="o">][</span>oO<span class="o">]</span> <span class="o">)</span>
        <span class="nb">echo</span> <span class="s2">&quot;NO  Error!!!!!&quot;</span>
        <span class="p">;;</span> 
        *<span class="o">)</span>
        <span class="nb">echo</span> <span class="s2">&quot;============================&quot;</span>
        <span class="p">;;</span> 

<span class="k">esac</span>

<span class="c1">#错误提示函数</span>
die <span class="o">()</span> <span class="o">{</span>
	<span class="nb">echo</span> <span class="s2">&quot;ERROR: </span><span class="nv">$1</span><span class="s2">. Aborting!&quot;</span>
	<span class="nb">exit</span> 1
<span class="o">}</span>

<span class="c1">#判断用户输入如果没有输入，选择默认值 redis为例</span>
<span class="nv">_REDIS_PORT</span><span class="o">=</span>6379
<span class="nv">_MANUAL_EXECUTION</span><span class="o">=</span><span class="nb">false</span>		<span class="c1">#标志信息</span>
check_input_redis_port<span class="o">(){</span>
<span class="k">if</span> ! <span class="nb">echo</span> <span class="nv">$REDIS_PORT</span> <span class="p">|</span> egrep -q <span class="s1">&#39;^[0-9]+$&#39;</span> <span class="p">;</span> <span class="k">then</span>
	<span class="nv">_MANUAL_EXECUTION</span><span class="o">=</span><span class="nb">true</span>		<span class="c1">#重置标志信息</span>
	<span class="c1">#Read the redis port</span>
	<span class="nb">read</span>  -p <span class="s2">&quot;Please select the redis port for this instance: [</span><span class="nv">$_REDIS_PORT</span><span class="s2">] &quot;</span> REDIS_PORT
	<span class="k">if</span> ! <span class="nb">echo</span> <span class="nv">$REDIS_PORT</span> <span class="p">|</span> egrep -q <span class="s1">&#39;^[0-9]+$&#39;</span> <span class="p">;</span> <span class="k">then</span>
		<span class="nb">echo</span> <span class="s2">&quot;Selecting default: </span><span class="nv">$_REDIS_PORT</span><span class="s2">&quot;</span>
		<span class="nv">REDIS_PORT</span><span class="o">=</span><span class="nv">$_REDIS_PORT</span>
	<span class="k">fi</span>
<span class="k">fi</span>
<span class="o">}</span>


Get_OS_Bit<span class="o">()</span>
<span class="o">{</span>
    <span class="k">if</span> <span class="o">[[</span> <span class="sb">`</span>getconf WORD_BIT<span class="sb">`</span> <span class="o">=</span> <span class="s1">&#39;32&#39;</span> <span class="o">&amp;&amp;</span> <span class="sb">`</span>getconf LONG_BIT<span class="sb">`</span> <span class="o">=</span> <span class="s1">&#39;64&#39;</span> <span class="o">]]</span> <span class="p">;</span> <span class="k">then</span>
        <span class="nv">Is_64bit</span><span class="o">=</span><span class="s1">&#39;y&#39;</span>
    <span class="k">else</span>
        <span class="nv">Is_64bit</span><span class="o">=</span><span class="s1">&#39;n&#39;</span>
    <span class="k">fi</span>
<span class="o">}</span>


Download_Files<span class="o">()</span>
<span class="o">{</span>
    <span class="nb">local</span> <span class="nv">URL</span><span class="o">=</span><span class="nv">$1</span>
    <span class="nb">local</span> <span class="nv">FileName</span><span class="o">=</span><span class="nv">$2</span>
    <span class="k">if</span> <span class="o">[</span> -s <span class="s2">&quot;</span><span class="si">${</span><span class="nv">FileName</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
        <span class="nb">echo</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">FileName</span><span class="si">}</span><span class="s2"> [found]&quot;</span>
    <span class="k">else</span>
        <span class="nb">echo</span> <span class="s2">&quot;Notice: </span><span class="si">${</span><span class="nv">FileName</span><span class="si">}</span><span class="s2"> not found!!!download now...&quot;</span>
        wget -c --progress<span class="o">=</span>bar:force --prefer-family<span class="o">=</span>IPv4 --no-check-certificate <span class="si">${</span><span class="nv">URL</span><span class="si">}</span>
    <span class="k">fi</span>
<span class="o">}</span>

<span class="c1">#批量安装基础包</span>
CentOS_Dependent<span class="o">()</span>
<span class="o">{</span>
    <span class="se">\c</span>p /etc/yum.conf /etc/yum.conf.lnmp
    sed -i <span class="s1">&#39;s:exclude=.*:exclude=:g&#39;</span> /etc/yum.conf

    Echo_Blue <span class="s2">&quot;[+] Yum installing dependent packages...&quot;</span>
    <span class="k">for</span> packages in make cmake gcc gcc-c++ gcc-g77 flex bison file libtool libtool-libs autoconf kernel-devel patch wget crontabs libjpeg libjpeg-devel libpng libpng-devel libpng10 libpng10-devel gd gd-devel libxml2 libxml2-devel zlib zlib-devel glib2 glib2-devel unzip tar bzip2 bzip2-devel libevent libevent-devel ncurses ncurses-devel curl curl-devel libcurl libcurl-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel libidn libidn-devel openssl openssl-devel vim-minimal gettext gettext-devel ncurses-devel gmp-devel pspell-devel unzip libcap diffutils ca-certificates net-tools libc-client-devel psmisc libXpm-devel git-core c-ares-devel libicu-devel libxslt libxslt-devel xz<span class="p">;</span>
    <span class="k">do</span> yum -y install <span class="nv">$packages</span><span class="p">;</span> <span class="k">done</span>

    mv -f /etc/yum.conf.lnmp /etc/yum.conf
<span class="o">}</span>


<span class="c1">#设置cron计划任务</span>
Crontab_func<span class="o">(){</span>
<span class="c1">#!/bin/bash</span>
cat  <span class="s">&lt;&lt;EOF &gt; /var/spool/cron/root</span>
<span class="s">*/30 * * * * sh /home/cheungssh/mysite/mysite/cheungssh/cheungssh_demo.sh 2&gt;&gt;/home/cheungssh/logs/demo.log  &gt;&gt; /home/cheungssh/logs/demo.log</span>
<span class="s">EOF</span>
<span class="o">}</span>



<span class="c1">#判断进程信息，杀掉进程</span>
kill_Process<span class="o">(){</span>
ps -fel<span class="p">|</span>grep websocket_server_cheung.py<span class="p">|</span>grep  -v <span class="s2">&quot;</span><span class="nv">$$</span><span class="s2">&quot;</span><span class="p">|</span>awk  <span class="s1">&#39;{print  $4}&#39;</span><span class="p">|</span>xargs -i <span class="nb">kill</span>  -9 <span class="o">{}</span>
<span class="o">}</span>

<span class="c1">#获取MD5值</span>
MD5_value<span class="o">(){</span>
md5sum /etc/hosts <span class="p">|</span>awk <span class="s1">&#39;{print $1}&#39;</span>
   
<span class="o">}</span>     

<span class="nv">data_format</span><span class="o">=</span><span class="s2">&quot;+%Y-%m-%d %H:%M:%S&quot;</span>

<span class="c1">#记录日志的function</span>
<span class="k">function</span> fnLogInfo<span class="o">()</span>
<span class="o">{</span>
        <span class="nb">local</span> <span class="nv">infomsg</span><span class="o">=</span><span class="nv">$1</span>
        <span class="nb">echo</span> <span class="si">${</span><span class="nv">infomsg</span><span class="si">}</span>
        <span class="nb">echo</span> <span class="sb">`</span>date <span class="s2">&quot;</span><span class="si">${</span><span class="nv">data_format</span><span class="si">}</span><span class="s2">&quot;</span><span class="sb">`</span> <span class="s2">&quot;Info:</span><span class="si">${</span><span class="nv">infomsg</span><span class="si">}</span><span class="s2">&quot;</span> &gt;&gt; <span class="si">${</span><span class="nv">log_file</span><span class="si">}</span>
<span class="o">}</span>


<span class="c1">#scritps path</span>
dir_path<span class="o">(){</span>
<span class="nv">pwd</span><span class="o">=</span><span class="sb">`</span>dirname <span class="nv">$0</span><span class="sb">`</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h2>3.12.10. 检查监控内存、硬盘<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="c1">#usage:xxx</span>
<span class="c1">#scripts_name:xxx.sh</span>

<span class="c1">#提取根分区剩余空间</span>
<span class="nv">disk_size</span><span class="o">=</span><span class="k">$(</span>df / <span class="p">|</span> awk <span class="s1">&#39;/\// {print $4}&#39;</span><span class="k">)</span>

<span class="c1">#提取内存剩余空间</span>
<span class="nv">mem_size</span><span class="o">=</span><span class="k">$(</span>free <span class="p">|</span> awk <span class="s1">&#39;/Mem/{print $4}&#39;</span><span class="k">)</span>
<span class="k">while</span> :<span class="p">;</span> <span class="k">do</span>
    <span class="c1">#大小为kb</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nv">$disk_size</span> -le <span class="m">512000</span> -a <span class="nv">$mem_size</span> -le <span class="m">1024000</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
        mail -s Warning root <span class="s">&lt;&lt;-EOF</span>
<span class="s">        insufficient resources,资源不足</span>
<span class="s">EOF</span>
    <span class="k">fi</span>

<span class="k">done</span>
</pre></div>
</div>
</div>
<div class="section" id="id8">
<h2>3.12.11. 猜随机数<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="c1">#usage:xxx</span>
<span class="c1">#scripts_name:xxx.sh</span>
<span class="c1">#取余的算法将随机数变为1-100之间</span>
<span class="nv">num</span><span class="o">=</span>$<span class="o">[</span>RANDOM%100+1<span class="o">]</span>

<span class="c1">#使用read捕获输入</span>
<span class="c1">#使用if判断</span>
<span class="k">while</span> True<span class="p">;</span> <span class="k">do</span>
    <span class="nb">read</span> -p <span class="s2">&quot;计算生成的一个1-100的随机数：&quot;</span> cai
    <span class="k">if</span> <span class="o">[</span> <span class="nv">$cai</span> -eq <span class="nv">$num</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
        <span class="nb">echo</span> <span class="s2">&quot;恭喜，猜对了&quot;</span>
    <span class="k">elif</span> <span class="o">[</span> <span class="nv">$cai</span> -gt <span class="nv">$num</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
        <span class="nb">echo</span> <span class="s2">&quot;oops，猜大了&quot;</span>
    <span class="k">else</span>
        <span class="nb">echo</span> <span class="s2">&quot;oops，猜小了&quot;</span>
    <span class="k">fi</span>
<span class="k">done</span>
</pre></div>
</div>
</div>
<div class="section" id="ip">
<h2>3.12.12. 检查网段内存活的主机IP信息<a class="headerlink" href="#ip" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1">#版本一</span>

<span class="c1">#!/usr/bin/env bash</span>
<span class="c1">#usage:xxx</span>
<span class="c1">#scripts_name:xxx.sh</span>
<span class="nv">i</span><span class="o">=</span>1
<span class="k">while</span> <span class="o">[</span> <span class="nv">$VAR</span> -le <span class="m">254</span> <span class="o">]</span><span class="p">;</span> <span class="k">do</span>
    ping -c2 -i0.3 -W1 192.168.4.<span class="nv">$VAR</span> &gt;/dev/null 2&gt;<span class="p">&amp;</span>1
    <span class="k">if</span> <span class="nb">test</span> <span class="nv">$?</span> -eq 0<span class="p">;</span> <span class="k">then</span>
        <span class="nb">echo</span> <span class="s2">&quot;192.168.4.</span><span class="nv">$VAR</span><span class="s2"> is up&quot;</span>
    <span class="k">else</span>
        <span class="nb">echo</span> <span class="s2">&quot;192.169.4.</span><span class="nv">$VAR</span><span class="s2"> is down&quot;</span>
    <span class="k">fi</span>
    <span class="nb">let</span> i++
<span class="k">done</span>


<span class="c1">#版本二</span>

<span class="c1">#!/usr/bin/env bash</span>
<span class="c1">#usage:xxx</span>
<span class="c1">#scripts_name:test_network.sh</span>
<span class="k">for</span> VAR in <span class="o">{</span>1..254<span class="o">}</span> <span class="p">;</span> <span class="k">do</span>
    <span class="c1">#ping -c2 -i0.3 -W1 192.168.4.$VAR &amp;&gt;/dev/null</span>
    ping -c2 -i0.3 -W1 192.168.4.<span class="nv">$VAR</span> &gt;/dev/null 2&gt;<span class="p">&amp;</span>1
    <span class="k">if</span> <span class="nb">test</span> <span class="nv">$?</span> -eq 0<span class="p">;</span> <span class="k">then</span>
        <span class="nb">echo</span> <span class="s2">&quot;192.168.4.</span><span class="nv">$VAR</span><span class="s2"> is up&quot;</span>
    <span class="k">else</span>
        <span class="nb">echo</span> <span class="s2">&quot;192.168.4.</span><span class="nv">$VAR</span><span class="s2"> is down&quot;</span>
        <span class="nb">echo</span> <span class="s2">&quot;&quot;</span>
    <span class="k">fi</span>
<span class="k">done</span>

<span class="c1">#版本三</span>

<span class="c1">#!/usr/bin/env bash</span>
<span class="c1">#usage:xxx</span>
<span class="c1">#scripts_name:xxx.sh</span>
myping<span class="o">(){</span>
ping -c2 -i0.3 -W1 192.168.4.<span class="nv">$VAR</span> <span class="p">&amp;</span>&gt;/dev/null
<span class="k">if</span> <span class="nb">test</span> <span class="nv">$?</span> -eq 0<span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2"> is up&quot;</span>
<span class="k">else</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2"> is down&quot;</span>
    <span class="nb">echo</span>
<span class="k">fi</span>
<span class="o">}</span>

<span class="k">for</span> VAR in <span class="o">{</span>1..254<span class="o">}</span> <span class="p">;</span> <span class="k">do</span>
    myping 192.168.4.<span class="nv">$VAR</span> <span class="p">&amp;</span>     <span class="c1">#将执行函数放入后台执行，不需要等待ping的回应过程</span>
<span class="k">done</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h2>3.12.13. 进度条<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="c1">#usage:xxx</span>
<span class="c1">#scripts_name:xxx.sh</span>
jindu<span class="o">(){</span>
<span class="k">while</span> :<span class="p">;</span> <span class="k">do</span>
    <span class="nb">echo</span> -n <span class="s1">&#39;#&#39;</span>
    sleep 0.1
<span class="k">done</span>
<span class="o">}</span>
jindu <span class="p">&amp;</span>
cp -a <span class="nv">$1</span> <span class="nv">$2</span>
killall <span class="nv">$!</span>
<span class="nb">echo</span> <span class="s2">&quot;拷贝完成&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="nginx">
<h2>3.12.14. nginx启动脚本<a class="headerlink" href="#nginx" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="c1">#usage:xxx</span>
<span class="c1">#scripts_name:xxx.sh</span>
<span class="c1">#放置位置/etc/init.d/目录下</span>
<span class="c1">#脚本名称为nginx，则service nginx start就可以启动该服务</span>

<span class="c1"># service nginx stop 关闭服务</span>
<span class="c1"># service nginx start 开启服务</span>
<span class="c1"># service nginx restart 重启服务</span>
<span class="nv">program</span><span class="o">=</span>/usr/local/nginx/sbin/nginx
<span class="nv">pid</span><span class="o">=</span>/usr/local/nginx/logs/nginx.pid

start<span class="o">(){</span>
<span class="k">if</span> <span class="nb">test</span> -f <span class="nv">$pid</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;nginx 服务启动正常&quot;</span>
<span class="k">else</span>
    <span class="nv">$program</span>
<span class="k">fi</span>

<span class="o">}</span>
stop<span class="o">(){</span>
<span class="k">if</span> <span class="o">[</span> -! -f <span class="nv">$pid</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;nginx 服务已经关闭&quot;</span>
<span class="k">else</span>
    <span class="nv">$program</span> -s stop
    <span class="nb">echo</span> <span class="s2">&quot;关闭服务ok&quot;</span>
<span class="k">fi</span>

<span class="o">}</span>

status<span class="o">(){</span>
<span class="k">if</span> <span class="o">[[</span> -f <span class="nv">$pid</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;服务正在运行.....&quot;</span>
<span class="k">else</span>
    <span class="nb">echo</span> <span class="s2">&quot;服务已经关闭......&quot;</span>
<span class="k">fi</span>
<span class="o">}</span>
<span class="k">case</span> <span class="nv">$1</span> in
start<span class="o">)</span>
    start
   <span class="p">;;</span>
stop<span class="o">)</span>
    stop
   <span class="p">;;</span>
restart<span class="o">)</span>
    stop
    sleep 1
    start
   <span class="p">;;</span>
status<span class="o">)</span>
    status
   <span class="p">;;</span>
*<span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">&quot;unknow program!...........&quot;</span>
   <span class="p">;;</span>
<span class="k">esac</span>
</pre></div>
</div>
</div>
<div class="section" id="test">
<h2>3.12.15. 3种test的写法<a class="headerlink" href="#test" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="nv">FreeMem</span><span class="o">=</span><span class="sb">`</span>free -m<span class="p">|</span>awk <span class="s1">&#39;NR==3 {print $NF}&#39;</span><span class="sb">`</span>
<span class="k">if</span> <span class="o">((</span> <span class="nv">$FreeMem</span> &lt; <span class="m">1000</span> <span class="o">))</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;xxxxxxxxxx&quot;</span>
<span class="k">fi</span>

<span class="k">if</span> <span class="o">[[</span> <span class="nv">$FreeMem</span> -lt <span class="m">1000</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;xxxxxxxx&quot;</span>
<span class="k">fi</span>

<span class="k">if</span> <span class="nb">test</span> <span class="nv">$FreeMem</span> -lt 1000<span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;xxxxxxxxxxxx&quot;</span>
<span class="k">fi</span>

<span class="k">if</span> grep  /etc/passwd &gt;/dev/null 2&gt;<span class="p">&amp;</span>1<span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;xxxxxxxxxx&quot;</span>
<span class="k">fi</span>
</pre></div>
</div>
</div>
<div class="section" id="case-color">
<h2>3.12.16. case+color用法<a class="headerlink" href="#case-color" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="k">function</span> AddColor<span class="o">(){</span>
<span class="c1">#&lt;==定义加颜色函数AddColor</span>
<span class="nv">RED_COLOR</span><span class="o">=</span><span class="s1">&#39;\E[1;31m&#39;</span>
<span class="nv">GREEN_COLOR</span><span class="o">=</span><span class="s1">&#39;\E[1;32m&#39;</span>
<span class="nv">YELLOW_COLOR</span><span class="o">=</span><span class="s1">&#39;\E[1;33m&#39;</span>
<span class="nv">BLUE_COLOR</span><span class="o">=</span><span class="s1">&#39;\E[1;34m&#39;</span>
<span class="nv">PINK</span><span class="o">=</span><span class="s1">&#39;\E[1;35m&#39;</span>
<span class="nv">RES</span><span class="o">=</span><span class="s1">&#39;\E[0m&#39;</span>
<span class="o">}</span>

<span class="o">[</span> <span class="nv">$#</span> -ne <span class="m">2</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">&quot;Usage </span><span class="nv">$0</span><span class="s2"> content {red|yellow|blue|green}&quot;</span><span class="p">;</span>exit<span class="p">;</span> <span class="o">}</span>

<span class="k">case</span> <span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span> in
red<span class="p">|</span>RED<span class="o">)</span>
    <span class="nb">echo</span> -e <span class="s2">&quot;</span><span class="si">${</span><span class="nv">RED_COLOR</span><span class="si">}</span><span class="nv">$1</span><span class="si">${</span><span class="nv">RES</span><span class="si">}</span><span class="s2">&quot;</span>
   <span class="p">;;</span>
yellow<span class="p">|</span>YELLOW<span class="o">)</span>
    <span class="nb">echo</span> -e <span class="s2">&quot;</span><span class="si">${</span><span class="nv">YELLOW_COLOR</span><span class="si">}</span><span class="nv">$1</span><span class="si">${</span><span class="nv">RES</span><span class="si">}</span><span class="s2">&quot;</span>
   <span class="p">;;</span>
green<span class="p">|</span>GREEN<span class="o">)</span>
    <span class="nb">echo</span> -e <span class="s2">&quot;</span><span class="si">${</span><span class="nv">GREEN_COLOR</span><span class="si">}</span><span class="nv">$1</span><span class="si">${</span><span class="nv">RES</span><span class="si">}</span><span class="s2">&quot;</span>
   <span class="p">;;</span>
blue<span class="p">|</span>BLUE<span class="o">)</span>
    <span class="nb">echo</span> -e <span class="s2">&quot;</span><span class="si">${</span><span class="nv">BLUE_COLOR</span><span class="si">}</span><span class="nv">$1</span><span class="si">${</span><span class="nv">RES</span><span class="si">}</span><span class="s2">&quot;</span>
   <span class="p">;;</span>
pink<span class="p">|</span>PINK<span class="o">)</span>
    <span class="nb">echo</span> -e <span class="s2">&quot;</span><span class="si">${</span><span class="nv">PINK_COLOR</span><span class="si">}</span><span class="nv">$1</span><span class="si">${</span><span class="nv">RES</span><span class="si">}</span><span class="s2">&quot;</span>
   <span class="p">;;</span>
*<span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">&quot;Usage </span><span class="nv">$0</span><span class="s2"> content {red|yellow|blue|green}&quot;</span>
    <span class="nb">exit</span>
<span class="k">esac</span>

main<span class="o">(){</span>

AddColor<span class="nv">$1</span> <span class="nv">$2</span>
<span class="o">}</span>

main <span class="nv">$*</span>
</pre></div>
</div>
</div>
<div class="section" id="io">
<h2>3.12.17. 监控磁盘IO脚本<a class="headerlink" href="#io" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="c1">##监控磁盘IO使用率，并找出哪个进程造成磁盘使用率很高</span>


<span class="c1">#判断机器上是否安装iostat命令</span>
<span class="k">if</span> ! which iostat <span class="p">&amp;</span>&gt;/dev/null
<span class="k">then</span>
    yum install -y sysstat
    <span class="c1">#如果你的机器为ubuntu，请使用这个命令：apt-get install -y sysstat</span>
<span class="k">fi</span>

<span class="c1">#判断机器上是否安装iotop命令</span>
<span class="k">if</span> ! which iotop <span class="p">&amp;</span>&gt;/dev/null
<span class="k">then</span>
    yum install -y iotop
    <span class="c1">#如果你的机器为ubuntu，请使用这个命令：apt-get install -y iotop</span>
<span class="k">fi</span>

<span class="c1">#定义记录日志的目录</span>
<span class="nv">logdir</span><span class="o">=</span>/tmp/iolog
<span class="o">[</span> -d <span class="nv">$logdir</span> <span class="o">]</span> <span class="o">||</span> mkdir <span class="nv">$logdir</span>

<span class="c1">#定义日志名字</span>
<span class="nv">dt</span><span class="o">=</span><span class="sb">`</span>date +%F<span class="sb">`</span>

<span class="c1">#定义获取io的函数（取5次平均值）</span>
get_io<span class="o">()</span>
<span class="o">{</span>
    iostat -dx <span class="m">1</span> <span class="m">5</span> &gt; <span class="nv">$logdir</span>/iostat.log
    <span class="nv">sum</span><span class="o">=</span>0

    <span class="c1">#取最后一列的%util值循环遍历然后相加</span>
    <span class="k">for</span> ut in  <span class="sb">`</span>grep <span class="s2">&quot;^</span><span class="nv">$1</span><span class="s2">&quot;</span> <span class="nv">$logdir</span>/iostat.log<span class="p">|</span>awk <span class="s1">&#39;{print $NF}&#39;</span><span class="p">|</span>cut -d. -f1<span class="sb">`</span>
    <span class="k">do</span>
        <span class="nv">sum</span><span class="o">=</span>$<span class="o">[</span><span class="nv">$sum</span>+<span class="nv">$ut</span><span class="o">]</span>
    <span class="k">done</span>
    <span class="nb">echo</span> $<span class="o">[</span><span class="nv">$sum</span>/5<span class="o">]</span>
<span class="o">}</span>

<span class="c1">#这里的true表示条件为真</span>
<span class="k">while</span> <span class="nb">true</span>
<span class="k">do</span>
    <span class="c1">#获取所有设备，对所有设备名遍历</span>
    <span class="k">for</span> d in <span class="sb">`</span>iostat -dx<span class="p">|</span>egrep -v <span class="s1">&#39;^$|Device:|CPU\)&#39;</span><span class="p">|</span>awk <span class="s1">&#39;{print $1}&#39;</span><span class="sb">`</span>
    <span class="k">do</span>
        <span class="nv">io</span><span class="o">=</span><span class="sb">`</span>get_io <span class="nv">$d</span><span class="sb">`</span>
        <span class="c1">#如果io使用率大于等于80</span>
        <span class="k">if</span> <span class="o">[</span> <span class="nv">$io</span> -ge <span class="m">80</span> <span class="o">]</span>
        <span class="k">then</span>
            <span class="c1">#向日志里记录时间、iostat和iotop信息</span>
            date &gt;&gt; <span class="nv">$logdir</span>/<span class="nv">$dt</span>
            cat <span class="nv">$logdir</span>/iostat.log &gt;&gt;<span class="nv">$logdir</span>/<span class="nv">$dt</span>
            iotop -obn2 &gt;&gt;<span class="nv">$logdir</span>/<span class="nv">$dt</span>
            <span class="nb">echo</span> <span class="s2">&quot;####################&quot;</span> &gt;&gt;<span class="nv">$logdir</span>/<span class="nv">$dt</span>
        <span class="k">fi</span>
    <span class="c1">#休眠10秒，继续以上步骤</span>
    <span class="k">done</span>
    sleep 10
<span class="k">done</span>
</pre></div>
</div>
</div>
<div class="section" id="color-print">
<h2>3.12.18. color_print例子<a class="headerlink" href="#color-print" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="c1">#ийие1</span>
color_printf1<span class="o">(){</span>
    <span class="k">if</span> <span class="o">[[</span> <span class="nv">$1</span> <span class="o">==</span> <span class="s2">&quot;red&quot;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
        <span class="nb">echo</span> -e <span class="s2">&quot;\033[32;40m</span><span class="nv">$2</span><span class="s2">\033[0m&quot;</span>
    <span class="k">elif</span> <span class="o">[[</span> <span class="nv">$1</span> <span class="o">==</span> <span class="s2">&quot;green&quot;</span> <span class="o">]]</span><span class="p">;</span><span class="k">then</span>
        <span class="nb">echo</span> -e <span class="s2">&quot;\033[31;40m</span><span class="nv">$2</span><span class="s2">\033[0m&quot;</span>
    <span class="k">fi</span>
<span class="o">}</span>

color_printf2<span class="o">(){</span>
    <span class="k">case</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span> in
    <span class="s2">&quot;red&quot;</span><span class="o">)</span>
       <span class="nb">echo</span> -e <span class="s2">&quot;\033[32;40m</span><span class="nv">$2</span><span class="s2">\033[0m&quot;</span>
       <span class="p">;;</span>
    <span class="s2">&quot;green&quot;</span><span class="o">)</span>
       <span class="nb">echo</span> -e <span class="s2">&quot;\033[31;40m</span><span class="nv">$2</span><span class="s2">\033[0m&quot;</span>
       <span class="p">;;</span>
    *<span class="o">)</span>
       <span class="nb">echo</span> -e <span class="s2">&quot;Example: color_printf2 red xxxxxx&quot;</span>
       <span class="p">;;</span>
    <span class="k">esac</span>

<span class="o">}</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="13.自动安装zabbix服务器脚本.html" class="btn btn-neutral float-right" title="3.13. 自动化安装zabbix服务器shell脚本" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="11.xagrs使用.html" class="btn btn-neutral float-left" title="3.11. xagrs使用" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, hujianli

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-89592236-4', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>